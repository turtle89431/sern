{"version":3,"sources":["source-webpack:///webpack/bootstrap","source-webpack:///./node_modules/riot/riot.esm.js","source-webpack:///./node_modules/@riotjs/lazy/lazy.js","source-webpack:///./node_modules/path-browserify/index.js","source-webpack:///./node_modules/@riotjs/hot-reload/index.js","source-webpack:///./node_modules/url/url.js","source-webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","source-webpack:///(webpack)/buildin/module.js","source-webpack:///(webpack)/buildin/global.js","source-webpack:///./node_modules/url/util.js","source-webpack:///./node_modules/querystring-es3/index.js","source-webpack:///./node_modules/querystring-es3/decode.js","source-webpack:///./node_modules/querystring-es3/encode.js","source-webpack:///./node_modules/process/browser.js","source-webpack:///./src/components/global sync [a-zA-Z0-9-]+\\.riot","source-webpack:///./src/components/global/my-component/my-component.riot","source-webpack:///./node_modules/@riotjs/route/route.esm.js","source-webpack:///./src/pages.js","source-webpack:///./src/app.riot","source-webpack:///./src/register-global-components.js","source-webpack:///./src/index.js","source-webpack:///./node_modules/bianco.query/index.next.js","source-webpack:///./node_modules/bianco.dom-to-array/index.next.js","source-webpack:///./src/components/global/sidebar/sidebar.riot","source-webpack:///./src/components/includes/user/user.riot"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","prefetchChunks","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","forEach","undefined","link","document","createElement","__webpack_require__","nc","setAttribute","rel","as","href","jsonpScriptSrc","head","appendChild","shift","installedModules","0","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","charset","timeout","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","startupResult","s","dashToCamelCase","string","replace","_","toUpperCase","clearChildren","children","Array","from","removeNode","node","parentNode","remove","removeChild","bindingTypes","EACH","IF","SIMPLE","TAG","SLOT","expressionTypes","ATTRIBUTE","EVENT","TEXT","VALUE","indexOf","append","parent","start","end","before","isSelect","noSelection","child","insertBefore","selected","selectedIndex","querySelectorAll","eqeq","a","b","identity","O","indexOf$1","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","next","list","nextSibling","drop","findK","ktr","j","lo","hi","mid","smartDiff","futureNodes","futureStart","futureEnd","futureChanges","currentNodes","currentStart","currentEnd","currentChanges","currentLength","diff","live","currentIndex","applyDiff","rows","cols","v","k","pv","cv","pd","outer","diffIdx","OND","minLen","tresh","nodes","index","idxInOld","newi","oldi","prev","ptr","HS","dropChild","this","checkType","element","isSvg","el","owner","ownerSVGElement","isTemplate","isNil","content","isFunction","isObject","UNMOUNT_SCOPE","EachBinding","seal","scope","parentScope","update","placeholder","childrenMap","collection","evaluate","items","newChildrenMap","batches","binding","condition","template","itemName","getKey","indexName","root","isTemplateTag","Map","item","context","_ref","extendScope","oldItem","Boolean","mustFilterItem","componentTemplate","clone","cloneNode","mustMount","meta","fragment","dom","avoidDOMInjection","childNodes","createTemplateMeta","mount","delete","set","createPatch","options","currentSame","futureSame","isReversed","domdiff","patch","values","fn","redundant","info","pop","unmount","IfBinding","mustUnmount","pristine","panic","evaluateAttributeExpressions","attributes","reduce","acc","attribute","assign","ElementProto","Element","isNativeHtmlProperty","cache","cached","val","has","memoize","attributeExpression","_ref2","oldValue","newAttributes","oldAttributes","newKeys","keys","filter","includes","removeAttribute","removeAllAttributes","entries","setAllAttributes","isBoolean","getMethod","normalizeValue","RE_EVENTS_PREFIX","EventListener","ListenersWeakMap","WeakMap","normalizeStringValue","getTextNode","childNodeIndex","nodeType","Node","COMMENT_NODE","textNode","createTextNode","replaceChild","expressions","normalizedEventName","eventListener","listener","createListener","callback","isArray","getCallbackAndOptions","handler","mustAddEvent","removeEventListener","addEventListener","expression","Expression","apply","create$2","COMPONENTS_IMPLEMENTATION_MAP","DOM_COMPONENT_INSTANCE_PROPERTY","PLUGINS_SET","Set","MOUNT_METHOD_KEY","UPDATE_METHOD_KEY","UNMOUNT_METHOD_KEY","IS_PURE_SYMBOL","for","PARENT_KEY_SYMBOL","ATTRIBUTES_KEY_SYMBOL","TEMPLATE_KEY_SYMBOL","globals","freeze","__proto__","IS_DIRECTIVE","VALUE_ATTRIBUTE","SHOULD_UPDATE_KEY","ON_BEFORE_MOUNT_KEY","ON_MOUNTED_KEY","ON_BEFORE_UPDATE_KEY","ON_UPDATED_KEY","ON_BEFORE_UNMOUNT_KEY","ON_UNMOUNTED_KEY","PROPS_KEY","STATE_KEY","SLOTS_KEY","ROOT_KEY","getRealParent","SlotBinding","map","attr","extendParentScope","templateData","slots","find","id","realParent","create$6","html","bindings","createDOM","getTemplateScope","moveSlotInnerContent","slot","firstChild","mustRemoveRoot","slotBindings","concat","TagBinding","tag","component","slotsToMarkup","getTag","getComponent","keepRootTag","method","fixTextExpressionsOffset","textExpressionsOffset","create$5","templateTagOffset","selector","redundantAttribute","querySelector","bindingExpressions","createDOMTree","container","ownerDocument","importNode","DOMParser","parseFromString","documentElement","createSVGTree","innerHTML","createHTMLTree","injectDOM","moveChildren","source","TemplateChunk","createTemplateDOM","Math","max","bindingsData","DOMBindings","createBinding","createExpression","noop","callOrAssign","constructor","writable","configurable","defineProperties","properties","defineDefaults","defaults","domToArray","els","test","toString","$","ctx","normalize","attrs","props","prop","names","parseNodes","CSS_BY_NAME","getStyleNode","style","cssManager","css","inject","join","getName","tagName","toLowerCase","COMPONENT_CORE_HELPERS","PURE_COMPONENT_API","COMPONENT_LIFECYCLE_METHODS","MOCKED_TEMPLATE_INTERFACE","evaluateInitialProps","initialProps","DOMattributesToObject","bindDOMNodeToComponentObject","createCoreAPIMethods","mapFunction","createComponent","templateFn","components","componentTemplateFactory","_ref5","createSubcomponents","_ref3","pureFactoryFunction","_len","arguments","args","_key","createPureComponent","componentAPI","defineComponent","state","preserveRoot","_ref4","add","curry","_len2","_key2","enhanceComponentAPI","computeState","oldState","newState","_ref6","runPlugins","createAttributeBindings","addCssHook","newProps","DOM_COMPONENT_INSTANCE_PROPERTY$1","COMPONENTS_IMPLEMENTATION_MAP$1","PLUGINS_SET$1","register","unregister","componentName","mountComponent","keepRootElement","install","plugin","uninstall","implementation","_temp","fns","f","g","compose","pure","func","version","__","riot","lazy","Loader","Component","export","hasLoader","LazyComponent","cachedComponent","isMounted","mountLazyComponent","createManagedComponent","then","default","Child","factory","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","xs","res","resolvedPath","resolvedAbsolute","path","process","cwd","TypeError","charAt","split","isAbsolute","trailingSlash","substr","paths","relative","to","trim","arr","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","len","reload","oldTag","newTag","warn","punycode","util","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","parse","urlParse","resolveObject","format","obj","isString","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","simplePath","exec","proto","lowerProto","match","atSign","hostEnd","hec","lastIndexOf","decodeURIComponent","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","toASCII","h","ae","esc","encodeURIComponent","escape","qm","stringify","result","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","hasTrailingSlash","freeGlobal","global","self","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","floor","stringFromCharCode","String","fromCharCode","RangeError","array","mapDomain","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","base","decode","input","out","basic","w","baseMinusT","codePoint","inputLength","bias","encode","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","deprecate","Function","arg","qs","eq","regexp","maxKeys","kstr","vstr","x","idx","stringifyPrimitive","isFinite","objectKeys","ks","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","chdir","dir","umask","webpackContext","req","webpackContextResolve","tokens","char","count","pattern","lexer","_a","prefixes","defaultPattern","escapeString","tryConsume","mustConsume","nextType","consumeText","prefix","suffix","modifier","name_1","pattern_1","flags","sensitive","stringToRegexp","strict","_b","_c","_d","endsWith","route","_i","tokens_1","token","mod","endToken","isEndDelimited","RegExp","tokensToRegexp","pathToRegexp","groups","regexpToRegexp","arrayToRegexp","CANCEL","ruit","tasks","task","done","cancel","reverse","API_METHODS","UNSUBSCRIBE_SYMBOL","createStream","modifiers","stream","dispatch","callbacks","erre","success","generator","addToCollection","deleteFromCollection","connect","return","clear","fork","hasWindow","replaceBase","matchOrSkip","pathRegExp","panic$1","silentErrors","router","mergeOptions","toRegexp","toURL","params","URL","parseURL","createURLStreamPipe","createRoute","URLStream","dispatcherStream","receiverStream","getCurrentRoute","currentRoute","getInitialRouteValue","routeHoc","onBeforeRoute","onRoute","callLifecycleProperty","manageEvents","evList","cb","RE_ORIGIN","getWindow","getDocument","getHistorty","history","getLocation","win","hist","location","onWindowEvent","normalizePath","onRouterPush","loc","doc","pushState","getLinkElement","isLinkNode","nodeName","isForbiddenLink","isTargetSelfLink","onClick","which","metaKey","ctrlKey","shiftKey","defaultPrevented","isEventForbidden","isHashLink","isInBase","preventDefault","defer","requestAnimationFrame","cancelDefer","cancelAnimationFrame","wasInitialized","routerHoc","panic$2","getAttribute","teardown","onFirstRoute","createSlot","initDomListeners","setBase","onStartedAttr","deferred","baseAttr","getBase","label","Router","Route","NotFound","Home","About","pages","showNotFound","activePage","isServer","anyRouteStream","onAnyRoute","log","page","globalComponentsContext","comp","getElementById","User","showUser","toggleUser"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n \t\tvar prefetchChunks = data[3] || [];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\t// chunk prefetching for javascript\n \t\tprefetchChunks.forEach(function(chunkId) {\n \t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tlink.rel = \"prefetch\";\n \t\t\t\tlink.as = \"script\";\n \t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\tdocument.head.appendChild(link);\n \t\t\t}\n \t\t});\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"chunks/\" + ({\"1\":\"pages/about\",\"2\":\"pages/home\"}[chunkId]||chunkId) + \"/index.\" + {\"1\":\"cada63d9934310c7e232\",\"2\":\"e8030bbfbe025c8e7586\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \tvar startupResult = (function() {\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n \t})();\n\n \twebpackJsonpCallback([[], {}, 0, [1,2]]);\n \treturn startupResult;\n","/* Riot v4.13.2, @license MIT */\n/**\n * Convert a string from camel case to dash-case\n * @param   {string} string - probably a component tag name\n * @returns {string} component name normalized\n */\nfunction camelToDashCase(string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n/**\n * Convert a string containing dashes to camel case\n * @param   {string} string - input string\n * @returns {string} my-string -> myString\n */\n\nfunction dashToCamelCase(string) {\n  return string.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n}\n\n/**\n * Get all the element attributes as object\n * @param   {HTMLElement} element - DOM node we want to parse\n * @returns {Object} all the attributes found as a key value pairs\n */\n\nfunction DOMattributesToObject(element) {\n  return Array.from(element.attributes).reduce((acc, attribute) => {\n    acc[dashToCamelCase(attribute.name)] = attribute.value;\n    return acc;\n  }, {});\n}\n/**\n * Move all the child nodes from a source tag to another\n * @param   {HTMLElement} source - source node\n * @param   {HTMLElement} target - target node\n * @returns {undefined} it's a void method \\_()_/\n */\n// Ignore this helper because it's needed only for svg tags\n\nfunction moveChildren(source, target) {\n  if (source.firstChild) {\n    target.appendChild(source.firstChild);\n    moveChildren(source, target);\n  }\n}\n/**\n * Remove the child nodes from any DOM node\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction cleanNode(node) {\n  clearChildren(node.childNodes);\n}\n/**\n * Clear multiple children in a node\n * @param   {HTMLElement[]} children - direct children nodes\n * @returns {undefined}\n */\n\nfunction clearChildren(children) {\n  Array.from(children).forEach(removeNode);\n}\n/**\n * Remove a node from the DOM\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\n\nfunction removeNode(node) {\n  const {\n    parentNode\n  } = node;\n  if (node.remove) node.remove();\n  /* istanbul ignore else */\n  else if (parentNode) parentNode.removeChild(node);\n}\n\nconst EACH = 0;\nconst IF = 1;\nconst SIMPLE = 2;\nconst TAG = 3;\nconst SLOT = 4;\nvar bindingTypes = {\n  EACH,\n  IF,\n  SIMPLE,\n  TAG,\n  SLOT\n};\n\nconst ATTRIBUTE = 0;\nconst EVENT = 1;\nconst TEXT = 2;\nconst VALUE = 3;\nvar expressionTypes = {\n  ATTRIBUTE,\n  EVENT,\n  TEXT,\n  VALUE\n};\n\n/**\n * Create the template meta object in case of <template> fragments\n * @param   {TemplateChunk} componentTemplate - template chunk object\n * @returns {Object} the meta property that will be passed to the mount function of the TemplateChunk\n */\nfunction createTemplateMeta(componentTemplate) {\n  const fragment = componentTemplate.dom.cloneNode(true);\n  return {\n    avoidDOMInjection: true,\n    fragment,\n    children: Array.from(fragment.childNodes)\n  };\n}\n\nconst {\n  indexOf,\n  slice\n} = [];\n\nconst append = (get, parent, children, start, end, before) => {\n  const isSelect = ('selectedIndex' in parent);\n  let noSelection = isSelect;\n\n  while (start < end) {\n    const child = get(children[start], 1);\n    parent.insertBefore(child, before);\n\n    if (isSelect && noSelection && child.selected) {\n      noSelection = !noSelection;\n      let {\n        selectedIndex\n      } = parent;\n      parent.selectedIndex = selectedIndex < 0 ? start : indexOf.call(parent.querySelectorAll('option'), child);\n    }\n\n    start++;\n  }\n};\nconst eqeq = (a, b) => a == b;\nconst identity = O => O;\nconst indexOf$1 = (moreNodes, moreStart, moreEnd, lessNodes, lessStart, lessEnd, compare) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n\n  if (length < 1) return -1;\n\n  while (moreEnd - moreStart >= length) {\n    let m = moreStart;\n    let l = lessStart;\n\n    while (m < moreEnd && l < lessEnd && compare(moreNodes[m], lessNodes[l])) {\n      m++;\n      l++;\n    }\n\n    if (l === lessEnd) return moreStart;\n    moreStart = m + 1;\n  }\n\n  return -1;\n};\nconst isReversed = (futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare) => {\n  while (currentStart < currentEnd && compare(currentNodes[currentStart], futureNodes[futureEnd - 1])) {\n    currentStart++;\n    futureEnd--;\n  }\n  return futureEnd === 0;\n};\nconst next = (get, list, i, length, before) => i < length ? get(list[i], 0) : 0 < i ? get(list[i - 1], -0).nextSibling : before;\nconst remove = (get, children, start, end) => {\n  while (start < end) drop(get(children[start++], -1));\n}; // - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges) => {\n  let k = 0;\n  /* istanbul ignore next */\n\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++) tresh[i] = currentEnd;\n\n  const nodes = currentNodes.slice(currentStart, currentEnd);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const index = nodes.indexOf(futureNodes[i]);\n\n    if (-1 < index) {\n      const idxInOld = index + currentStart;\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n\n  while (ptr) {\n    const {\n      newi,\n      oldi\n    } = ptr;\n\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n\n  return diff;\n}; // this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\n\n\nconst OND = (futureNodes, futureStart, rows, currentNodes, currentStart, cols, compare) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND) return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n\n      r = c - k;\n\n      while (c < cols && r < rows && compare(currentNodes[currentStart + c], futureNodes[futureStart + r])) {\n        c++;\n        r++;\n      }\n\n      if (c === cols && r === rows) {\n        break outer;\n      }\n\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n\n  for (d = v.length - 1; d >= 0; d--) {\n    while (c > 0 && r > 0 && compare(currentNodes[currentStart + c - 1], futureNodes[futureStart + r - 1])) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n\n    if (!d) break;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n\n    if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n\n  return diff;\n};\n\nconst applyDiff = (diff, get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before) => {\n  const live = [];\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.push(futureNodes[futureStart]);\n        append(get, parentNode, futureNodes, futureStart++, futureStart, currentIndex < currentLength ? get(currentNodes[currentIndex], 0) : before);\n        break;\n\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n\n  i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (-1 < live.indexOf(currentNodes[currentStart])) currentStart++;else remove(get, currentNodes, currentStart++, currentStart);\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n\n  while (lo < hi) {\n    const mid = (lo + hi) / 2 >>> 0;\n    if (j < ktr[mid]) hi = mid;else lo = mid + 1;\n  }\n\n  return lo;\n};\n\nconst smartDiff = (get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before) => {\n  applyDiff(OND(futureNodes, futureStart, futureChanges, currentNodes, currentStart, currentChanges, compare) || HS(futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges), get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before);\n};\n\nconst drop = node => (node.remove || dropChild).call(node);\n\nfunction dropChild() {\n  const {\n    parentNode\n  } = this;\n  /* istanbul ignore else */\n\n  if (parentNode) parentNode.removeChild(this);\n}\n\n/*! (c) 2018 Andrea Giammarchi (ISC) */\n\nconst domdiff = (parentNode, // where changes happen\ncurrentNodes, // Array of current items/nodes\nfutureNodes, // Array of future items/nodes\noptions // optional object with one of the following properties\n//  before: domNode\n//  compare(generic, generic) => true if same generic\n//  node(generic) => Node\n) => {\n  if (!options) options = {};\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n  let futureEnd = futureNodes.length;\n  let futureStart = 0; // common prefix\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentStart], futureNodes[futureStart])) {\n    currentStart++;\n    futureStart++;\n  } // common suffix\n\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd; // same list\n\n  if (currentSame && futureSame) return futureNodes; // only stuff to add\n\n  if (currentSame && futureStart < futureEnd) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentStart, currentLength, before));\n    return futureNodes;\n  } // only stuff to remove\n\n\n  if (futureSame && currentStart < currentEnd) {\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1; // 2 simple indels: the shortest sequence is a subsequence of the longest\n\n  if (currentChanges < futureChanges) {\n    i = indexOf$1(futureNodes, futureStart, futureEnd, currentNodes, currentStart, currentEnd, compare); // inner diff\n\n    if (-1 < i) {\n      append(get, parentNode, futureNodes, futureStart, i, get(currentNodes[currentStart], 0));\n      append(get, parentNode, futureNodes, i + currentChanges, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n      i = indexOf$1(currentNodes, currentStart, currentEnd, futureNodes, futureStart, futureEnd, compare); // outer diff\n\n      if (-1 < i) {\n        remove(get, currentNodes, currentStart, i);\n        remove(get, currentNodes, i + futureChanges, currentEnd);\n        return futureNodes;\n      }\n    } // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n\n  /* istanbul ignore else */\n\n\n  if (currentChanges < 2 || futureChanges < 2) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, get(currentNodes[currentStart], 0));\n    remove(get, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  } // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n\n\n  if (currentChanges === futureChanges && isReversed(futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare)) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n    return futureNodes;\n  } // last resort through a smart diff\n\n\n  smartDiff(get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before);\n  return futureNodes;\n};\n\n/**\n * Quick type checking\n * @param   {*} element - anything\n * @param   {string} type - type definition\n * @returns {boolean} true if the type corresponds\n */\nfunction checkType(element, type) {\n  return typeof element === type;\n}\n/**\n * Check if an element is part of an svg\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if we are in an svg context\n */\n\nfunction isSvg(el) {\n  const owner = el.ownerSVGElement;\n  return !!owner || owner === null;\n}\n/**\n * Check if an element is a template tag\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if it's a <template>\n */\n\nfunction isTemplate(el) {\n  return !isNil(el.content);\n}\n/**\n * Check that will be passed if its argument is a function\n * @param   {*} value - value to check\n * @returns {boolean} - true if the value is a function\n */\n\nfunction isFunction(value) {\n  return checkType(value, 'function');\n}\n/**\n * Check if a value is a Boolean\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is a boolean\n */\n\nfunction isBoolean(value) {\n  return checkType(value, 'boolean');\n}\n/**\n * Check if a value is an Object\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is an object\n */\n\nfunction isObject(value) {\n  return !isNil(value) && checkType(value, 'object');\n}\n/**\n * Check if a value is null or undefined\n * @param   {*}  value - anything\n * @returns {boolean} true only for the 'undefined' and 'null' types\n */\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nconst UNMOUNT_SCOPE = Symbol('unmount');\nconst EachBinding = Object.seal({\n  // dynamic binding properties\n  // childrenMap: null,\n  // node: null,\n  // root: null,\n  // condition: null,\n  // evaluate: null,\n  // template: null,\n  // isTemplateTag: false,\n  nodes: [],\n\n  // getKey: null,\n  // indexName: null,\n  // itemName: null,\n  // afterPlaceholder: null,\n  // placeholder: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const {\n      placeholder,\n      nodes,\n      childrenMap\n    } = this;\n    const collection = scope === UNMOUNT_SCOPE ? null : this.evaluate(scope);\n    const items = collection ? Array.from(collection) : [];\n    const parent = placeholder.parentNode; // prepare the diffing\n\n    const {\n      newChildrenMap,\n      batches,\n      futureNodes\n    } = createPatch(items, scope, parentScope, this); // patch the DOM only if there are new nodes\n\n    domdiff(parent, nodes, futureNodes, {\n      before: placeholder,\n      node: patch(Array.from(childrenMap.values()), parentScope)\n    }); // trigger the mounts and the updates\n\n    batches.forEach(fn => fn()); // update the children map\n\n    this.childrenMap = newChildrenMap;\n    this.nodes = futureNodes;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.update(UNMOUNT_SCOPE, parentScope);\n    return this;\n  }\n\n});\n/**\n * Patch the DOM while diffing\n * @param   {TemplateChunk[]} redundant - redundant tepmplate chunks\n * @param   {*} parentScope - scope of the parent template\n * @returns {Function} patch function used by domdiff\n */\n\nfunction patch(redundant, parentScope) {\n  return (item, info) => {\n    if (info < 0) {\n      const element = redundant.pop();\n\n      if (element) {\n        const {\n          template,\n          context\n        } = element; // notice that we pass null as last argument because\n        // the root node and its children will be removed by domdiff\n\n        template.unmount(context, parentScope, null);\n      }\n    }\n\n    return item;\n  };\n}\n/**\n * Check whether a template must be filtered from a loop\n * @param   {Function} condition - filter function\n * @param   {Object} context - argument passed to the filter function\n * @returns {boolean} true if this item should be skipped\n */\n\n\nfunction mustFilterItem(condition, context) {\n  return condition ? Boolean(condition(context)) === false : false;\n}\n/**\n * Extend the scope of the looped template\n * @param   {Object} scope - current template scope\n * @param   {string} options.itemName - key to identify the looped item in the new context\n * @param   {string} options.indexName - key to identify the index of the looped item\n * @param   {number} options.index - current index\n * @param   {*} options.item - collection item looped\n * @returns {Object} enhanced scope object\n */\n\n\nfunction extendScope(scope, _ref) {\n  let {\n    itemName,\n    indexName,\n    index,\n    item\n  } = _ref;\n  scope[itemName] = item;\n  if (indexName) scope[indexName] = index;\n  return scope;\n}\n/**\n * Loop the current template items\n * @param   {Array} items - expression collection value\n * @param   {*} scope - template scope\n * @param   {*} parentScope - scope of the parent template\n * @param   {EeachBinding} binding - each binding object instance\n * @returns {Object} data\n * @returns {Map} data.newChildrenMap - a Map containing the new children template structure\n * @returns {Array} data.batches - array containing the template lifecycle functions to trigger\n * @returns {Array} data.futureNodes - array containing the nodes we need to diff\n */\n\n\nfunction createPatch(items, scope, parentScope, binding) {\n  const {\n    condition,\n    template,\n    childrenMap,\n    itemName,\n    getKey,\n    indexName,\n    root,\n    isTemplateTag\n  } = binding;\n  const newChildrenMap = new Map();\n  const batches = [];\n  const futureNodes = [];\n  items.forEach((item, index) => {\n    const context = extendScope(Object.create(scope), {\n      itemName,\n      indexName,\n      index,\n      item\n    });\n    const key = getKey ? getKey(context) : index;\n    const oldItem = childrenMap.get(key);\n\n    if (mustFilterItem(condition, context)) {\n      return;\n    }\n\n    const componentTemplate = oldItem ? oldItem.template : template.clone();\n    const el = oldItem ? componentTemplate.el : root.cloneNode();\n    const mustMount = !oldItem;\n    const meta = isTemplateTag && mustMount ? createTemplateMeta(componentTemplate) : {};\n\n    if (mustMount) {\n      batches.push(() => componentTemplate.mount(el, context, parentScope, meta));\n    } else {\n      batches.push(() => componentTemplate.update(context, parentScope));\n    } // create the collection of nodes to update or to add\n    // in case of template tags we need to add all its children nodes\n\n\n    if (isTemplateTag) {\n      const children = meta.children || componentTemplate.children;\n      futureNodes.push(...children);\n    } else {\n      futureNodes.push(el);\n    } // delete the old item from the children map\n\n\n    childrenMap.delete(key); // update the children map\n\n    newChildrenMap.set(key, {\n      template: componentTemplate,\n      context,\n      index\n    });\n  });\n  return {\n    newChildrenMap,\n    batches,\n    futureNodes\n  };\n}\n\nfunction create(node, _ref2) {\n  let {\n    evaluate,\n    condition,\n    itemName,\n    indexName,\n    getKey,\n    template\n  } = _ref2;\n  const placeholder = document.createTextNode('');\n  const parent = node.parentNode;\n  const root = node.cloneNode();\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, EachBinding, {\n    childrenMap: new Map(),\n    node,\n    root,\n    condition,\n    evaluate,\n    isTemplateTag: isTemplate(root),\n    template: template.createDOM(node),\n    getKey,\n    indexName,\n    itemName,\n    placeholder\n  });\n}\n\n/**\n * Binding responsible for the `if` directive\n */\n\nconst IfBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // isTemplateTag: false,\n  // placeholder: null,\n  // template: null,\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const value = !!this.evaluate(scope);\n    const mustMount = !this.value && value;\n    const mustUnmount = this.value && !value;\n\n    const mount = () => {\n      const pristine = this.node.cloneNode();\n      this.placeholder.parentNode.insertBefore(pristine, this.placeholder);\n      this.template = this.template.clone();\n      this.template.mount(pristine, scope, parentScope);\n    };\n\n    switch (true) {\n      case mustMount:\n        mount();\n        break;\n\n      case mustUnmount:\n        this.unmount(scope);\n        break;\n\n      default:\n        if (value) this.template.update(scope, parentScope);\n    }\n\n    this.value = value;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.template.unmount(scope, parentScope, true);\n    return this;\n  }\n\n});\nfunction create$1(node, _ref) {\n  let {\n    evaluate,\n    template\n  } = _ref;\n  const parent = node.parentNode;\n  const placeholder = document.createTextNode('');\n  parent.insertBefore(placeholder, node);\n  removeNode(node);\n  return Object.assign({}, IfBinding, {\n    node,\n    evaluate,\n    placeholder,\n    template: template.createDOM(node)\n  });\n}\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @returns { undefined } hoppla.. at this point the program should stop working\n */\n\nfunction panic(message) {\n  throw new Error(message);\n}\n/**\n * Returns the memoized (cached) function.\n * // borrowed from https://www.30secondsofcode.org/js/s/memoize\n * @param {Function} fn - function to memoize\n * @returns {Function} memoize function\n */\n\nfunction memoize(fn) {\n  const cache = new Map();\n\n  const cached = val => {\n    return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) && cache.get(val);\n  };\n\n  cached.cache = cache;\n  return cached;\n}\n/**\n * Evaluate a list of attribute expressions\n * @param   {Array} attributes - attribute expressions generated by the riot compiler\n * @returns {Object} key value pairs with the result of the computation\n */\n\nfunction evaluateAttributeExpressions(attributes) {\n  return attributes.reduce((acc, attribute) => {\n    const {\n      value,\n      type\n    } = attribute;\n\n    switch (true) {\n      // spread attribute\n      case !attribute.name && type === ATTRIBUTE:\n        return Object.assign({}, acc, value);\n      // value attribute\n\n      case type === VALUE:\n        acc.value = attribute.value;\n        break;\n      // normal attributes\n\n      default:\n        acc[dashToCamelCase(attribute.name)] = attribute.value;\n    }\n\n    return acc;\n  }, {});\n}\n\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nconst SET_ATTIBUTE = 'setAttribute';\nconst ElementProto = typeof Element === 'undefined' ? {} : Element.prototype;\nconst isNativeHtmlProperty = memoize(name => ElementProto.hasOwnProperty(name)); // eslint-disable-line\n\n/**\n * Add all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing the attributes names and values\n * @returns {undefined} sorry it's a void function :(\n */\n\nfunction setAllAttributes(node, attributes) {\n  Object.entries(attributes).forEach((_ref) => {\n    let [name, value] = _ref;\n    return attributeExpression(node, {\n      name\n    }, value);\n  });\n}\n/**\n * Remove all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} newAttributes - object containing all the new attribute names\n * @param   {Object} oldAttributes - object containing all the old attribute names\n * @returns {undefined} sorry it's a void function :(\n */\n\n\nfunction removeAllAttributes(node, newAttributes, oldAttributes) {\n  const newKeys = newAttributes ? Object.keys(newAttributes) : [];\n  Object.keys(oldAttributes).filter(name => !newKeys.includes(name)).forEach(attribute => node.removeAttribute(attribute));\n}\n/**\n * This methods handles the DOM attributes updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - attribute name\n * @param   {*} value - new expression value\n * @param   {*} oldValue - the old expression cached value\n * @returns {undefined}\n */\n\n\nfunction attributeExpression(node, _ref2, value, oldValue) {\n  let {\n    name\n  } = _ref2;\n\n  // is it a spread operator? {...attributes}\n  if (!name) {\n    if (oldValue) {\n      // remove all the old attributes\n      removeAllAttributes(node, value, oldValue);\n    } // is the value still truthy?\n\n\n    if (value) {\n      setAllAttributes(node, value);\n    }\n\n    return;\n  } // handle boolean attributes\n\n\n  if (!isNativeHtmlProperty(name) && (isBoolean(value) || isObject(value) || isFunction(value))) {\n    node[name] = value;\n  }\n\n  node[getMethod(value)](name, normalizeValue(name, value));\n}\n/**\n * Get the attribute modifier method\n * @param   {*} value - if truthy we return `setAttribute` othewise `removeAttribute`\n * @returns {string} the node attribute modifier method name\n */\n\nfunction getMethod(value) {\n  return isNil(value) || value === false || value === '' || isObject(value) || isFunction(value) ? REMOVE_ATTRIBUTE : SET_ATTIBUTE;\n}\n/**\n * Get the value as string\n * @param   {string} name - attribute name\n * @param   {*} value - user input value\n * @returns {string} input value as string\n */\n\n\nfunction normalizeValue(name, value) {\n  // be sure that expressions like selected={ true } will be always rendered as selected='selected'\n  if (value === true) return name;\n  return value;\n}\n\nconst RE_EVENTS_PREFIX = /^on/;\n\nconst getCallbackAndOptions = value => Array.isArray(value) ? value : [value, false]; // see also https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\n\n\nconst EventListener = {\n  handleEvent(event) {\n    this[event.type](event);\n  }\n\n};\nconst ListenersWeakMap = new WeakMap();\n\nconst createListener = node => {\n  const listener = Object.create(EventListener);\n  ListenersWeakMap.set(node, listener);\n  return listener;\n};\n/**\n * Set a new event listener\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - event name\n * @param   {*} value - new expression value\n * @returns {value} the callback just received\n */\n\n\nfunction eventExpression(node, _ref, value) {\n  let {\n    name\n  } = _ref;\n  const normalizedEventName = name.replace(RE_EVENTS_PREFIX, '');\n  const eventListener = ListenersWeakMap.get(node) || createListener(node);\n  const [callback, options] = getCallbackAndOptions(value);\n  const handler = eventListener[normalizedEventName];\n  const mustRemoveEvent = handler && !callback;\n  const mustAddEvent = callback && !handler;\n\n  if (mustRemoveEvent) {\n    node.removeEventListener(normalizedEventName, eventListener);\n  }\n\n  if (mustAddEvent) {\n    node.addEventListener(normalizedEventName, eventListener, options);\n  }\n\n  eventListener[normalizedEventName] = callback;\n}\n\n/**\n * Normalize the user value in order to render a empty string in case of falsy values\n * @param   {*} value - user input value\n * @returns {string} hopefully a string\n */\n\nfunction normalizeStringValue(value) {\n  return isNil(value) ? '' : value;\n}\n\n/**\n * Get the the target text node to update or create one from of a comment node\n * @param   {HTMLElement} node - any html element containing childNodes\n * @param   {number} childNodeIndex - index of the text node in the childNodes list\n * @returns {HTMLTextNode} the text node to update\n */\n\nconst getTextNode = (node, childNodeIndex) => {\n  const target = node.childNodes[childNodeIndex];\n\n  if (target.nodeType === Node.COMMENT_NODE) {\n    const textNode = document.createTextNode('');\n    node.replaceChild(textNode, target);\n    return textNode;\n  }\n\n  return target;\n};\n/**\n * This methods handles a simple text expression update\n * @param   {HTMLElement} node - target node\n * @param   {Object} data - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction textExpression(node, data, value) {\n  node.data = normalizeStringValue(value);\n}\n\n/**\n * This methods handles the input fileds value updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\nfunction valueExpression(node, expression, value) {\n  node.value = normalizeStringValue(value);\n}\n\nvar expressions = {\n  [ATTRIBUTE]: attributeExpression,\n  [EVENT]: eventExpression,\n  [TEXT]: textExpression,\n  [VALUE]: valueExpression\n};\n\nconst Expression = Object.seal({\n  // Static props\n  // node: null,\n  // value: null,\n  // API methods\n\n  /**\n   * Mount the expression evaluating its initial value\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  mount(scope) {\n    // hopefully a pure function\n    this.value = this.evaluate(scope); // IO() DOM updates\n\n    apply(this, this.value);\n    return this;\n  },\n\n  /**\n   * Update the expression if its value changed\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  update(scope) {\n    // pure function\n    const value = this.evaluate(scope);\n\n    if (this.value !== value) {\n      // IO() DOM updates\n      apply(this, value);\n      this.value = value;\n    }\n\n    return this;\n  },\n\n  /**\n   * Expression teardown method\n   * @returns {Expression} self\n   */\n  unmount() {\n    // unmount only the event handling expressions\n    if (this.type === EVENT) apply(this, null);\n    return this;\n  }\n\n});\n/**\n * IO() function to handle the DOM updates\n * @param {Expression} expression - expression object\n * @param {*} value - current expression value\n * @returns {undefined}\n */\n\nfunction apply(expression, value) {\n  return expressions[expression.type](expression.node, expression, value, expression.value);\n}\n\nfunction create$2(node, data) {\n  return Object.assign({}, Expression, data, {\n    node: data.type === TEXT ? getTextNode(node, data.childNodeIndex) : node\n  });\n}\n\n/**\n * Create a flat object having as keys a list of methods that if dispatched will propagate\n * on the whole collection\n * @param   {Array} collection - collection to iterate\n * @param   {Array<string>} methods - methods to execute on each item of the collection\n * @param   {*} context - context returned by the new methods created\n * @returns {Object} a new object to simplify the the nested methods dispatching\n */\nfunction flattenCollectionMethods(collection, methods, context) {\n  return methods.reduce((acc, method) => {\n    return Object.assign({}, acc, {\n      [method]: scope => {\n        return collection.map(item => item[method](scope)) && context;\n      }\n    });\n  }, {});\n}\n\nfunction create$3(node, _ref) {\n  let {\n    expressions\n  } = _ref;\n  return Object.assign({}, flattenCollectionMethods(expressions.map(expression => create$2(node, expression)), ['mount', 'update', 'unmount']));\n}\n\n// Riot.js constants that can be used accross more modules\nconst COMPONENTS_IMPLEMENTATION_MAP = new Map(),\n      DOM_COMPONENT_INSTANCE_PROPERTY = Symbol('riot-component'),\n      PLUGINS_SET = new Set(),\n      IS_DIRECTIVE = 'is',\n      VALUE_ATTRIBUTE = 'value',\n      MOUNT_METHOD_KEY = 'mount',\n      UPDATE_METHOD_KEY = 'update',\n      UNMOUNT_METHOD_KEY = 'unmount',\n      SHOULD_UPDATE_KEY = 'shouldUpdate',\n      ON_BEFORE_MOUNT_KEY = 'onBeforeMount',\n      ON_MOUNTED_KEY = 'onMounted',\n      ON_BEFORE_UPDATE_KEY = 'onBeforeUpdate',\n      ON_UPDATED_KEY = 'onUpdated',\n      ON_BEFORE_UNMOUNT_KEY = 'onBeforeUnmount',\n      ON_UNMOUNTED_KEY = 'onUnmounted',\n      PROPS_KEY = 'props',\n      STATE_KEY = 'state',\n      SLOTS_KEY = 'slots',\n      ROOT_KEY = 'root',\n      IS_PURE_SYMBOL = Symbol.for('pure'),\n      PARENT_KEY_SYMBOL = Symbol('parent'),\n      ATTRIBUTES_KEY_SYMBOL = Symbol('attributes'),\n      TEMPLATE_KEY_SYMBOL = Symbol('template');\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP,\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY,\n  PLUGINS_SET: PLUGINS_SET,\n  IS_DIRECTIVE: IS_DIRECTIVE,\n  VALUE_ATTRIBUTE: VALUE_ATTRIBUTE,\n  MOUNT_METHOD_KEY: MOUNT_METHOD_KEY,\n  UPDATE_METHOD_KEY: UPDATE_METHOD_KEY,\n  UNMOUNT_METHOD_KEY: UNMOUNT_METHOD_KEY,\n  SHOULD_UPDATE_KEY: SHOULD_UPDATE_KEY,\n  ON_BEFORE_MOUNT_KEY: ON_BEFORE_MOUNT_KEY,\n  ON_MOUNTED_KEY: ON_MOUNTED_KEY,\n  ON_BEFORE_UPDATE_KEY: ON_BEFORE_UPDATE_KEY,\n  ON_UPDATED_KEY: ON_UPDATED_KEY,\n  ON_BEFORE_UNMOUNT_KEY: ON_BEFORE_UNMOUNT_KEY,\n  ON_UNMOUNTED_KEY: ON_UNMOUNTED_KEY,\n  PROPS_KEY: PROPS_KEY,\n  STATE_KEY: STATE_KEY,\n  SLOTS_KEY: SLOTS_KEY,\n  ROOT_KEY: ROOT_KEY,\n  IS_PURE_SYMBOL: IS_PURE_SYMBOL,\n  PARENT_KEY_SYMBOL: PARENT_KEY_SYMBOL,\n  ATTRIBUTES_KEY_SYMBOL: ATTRIBUTES_KEY_SYMBOL,\n  TEMPLATE_KEY_SYMBOL: TEMPLATE_KEY_SYMBOL\n});\n\nfunction extendParentScope(attributes, scope, parentScope) {\n  if (!attributes || !attributes.length) return parentScope;\n  const expressions = attributes.map(attr => Object.assign({}, attr, {\n    value: attr.evaluate(scope)\n  }));\n  return Object.assign(Object.create(parentScope || null), evaluateAttributeExpressions(expressions));\n} // this function is only meant to fix an edge case\n// https://github.com/riot/riot/issues/2842\n\n\nconst getRealParent = (scope, parentScope) => parentScope ? parentScope === scope ? scope[PARENT_KEY_SYMBOL] : parentScope : undefined;\n\nconst SlotBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // name: null,\n  attributes: [],\n\n  // template: null,\n  getTemplateScope(scope, parentScope) {\n    return extendParentScope(this.attributes, scope, parentScope);\n  },\n\n  // API methods\n  mount(scope, parentScope) {\n    const templateData = scope.slots ? scope.slots.find((_ref) => {\n      let {\n        id\n      } = _ref;\n      return id === this.name;\n    }) : false;\n    const {\n      parentNode\n    } = this.node;\n    const realParent = getRealParent(scope, parentScope);\n    this.template = templateData && create$6(templateData.html, templateData.bindings).createDOM(parentNode);\n\n    if (this.template) {\n      this.template.mount(this.node, this.getTemplateScope(scope, realParent), realParent);\n      this.template.children = moveSlotInnerContent(this.node);\n    }\n\n    removeNode(this.node);\n    return this;\n  },\n\n  update(scope, parentScope) {\n    if (this.template) {\n      const realParent = getRealParent(scope, parentScope);\n      this.template.update(this.getTemplateScope(scope, realParent), realParent);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.template) {\n      this.template.unmount(this.getTemplateScope(scope, parentScope), null, mustRemoveRoot);\n    }\n\n    return this;\n  }\n\n});\n/**\n * Move the inner content of the slots outside of them\n * @param   {HTMLNode} slot - slot node\n * @param   {HTMLElement} children - array to fill with the child nodes detected\n * @returns {HTMLElement[]} list of the node moved\n */\n\nfunction moveSlotInnerContent(slot, children) {\n  if (children === void 0) {\n    children = [];\n  }\n\n  const child = slot.firstChild;\n\n  if (child) {\n    slot.parentNode.insertBefore(child, slot);\n    return [child, ...moveSlotInnerContent(slot)];\n  }\n\n  return children;\n}\n/**\n * Create a single slot binding\n * @param   {HTMLElement} node - slot node\n * @param   {string} options.name - slot id\n * @returns {Object} Slot binding object\n */\n\n\nfunction createSlot(node, _ref2) {\n  let {\n    name,\n    attributes\n  } = _ref2;\n  return Object.assign({}, SlotBinding, {\n    attributes,\n    node,\n    name\n  });\n}\n\n/**\n * Create a new tag object if it was registered before, otherwise fallback to the simple\n * template chunk\n * @param   {Function} component - component factory function\n * @param   {Array<Object>} slots - array containing the slots markup\n * @param   {Array} attributes - dynamic attributes that will be received by the tag element\n * @returns {TagImplementation|TemplateChunk} a tag implementation or a template chunk as fallback\n */\n\nfunction getTag(component, slots, attributes) {\n  if (slots === void 0) {\n    slots = [];\n  }\n\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  // if this tag was registered before we will return its implementation\n  if (component) {\n    return component({\n      slots,\n      attributes\n    });\n  } // otherwise we return a template chunk\n\n\n  return create$6(slotsToMarkup(slots), [...slotBindings(slots), {\n    // the attributes should be registered as binding\n    // if we fallback to a normal template chunk\n    expressions: attributes.map(attr => {\n      return Object.assign({\n        type: ATTRIBUTE\n      }, attr);\n    })\n  }]);\n}\n/**\n * Merge all the slots bindings into a single array\n * @param   {Array<Object>} slots - slots collection\n * @returns {Array<Bindings>} flatten bindings array\n */\n\n\nfunction slotBindings(slots) {\n  return slots.reduce((acc, _ref) => {\n    let {\n      bindings\n    } = _ref;\n    return acc.concat(bindings);\n  }, []);\n}\n/**\n * Merge all the slots together in a single markup string\n * @param   {Array<Object>} slots - slots collection\n * @returns {string} markup of all the slots in a single string\n */\n\n\nfunction slotsToMarkup(slots) {\n  return slots.reduce((acc, slot) => {\n    return acc + slot.html;\n  }, '');\n}\n\nconst TagBinding = Object.seal({\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // name: null,\n  // slots: null,\n  // tag: null,\n  // attributes: null,\n  // getComponent: null,\n  mount(scope) {\n    return this.update(scope);\n  },\n\n  update(scope, parentScope) {\n    const name = this.evaluate(scope); // simple update\n\n    if (name === this.name) {\n      this.tag.update(scope);\n    } else {\n      // unmount the old tag if it exists\n      this.unmount(scope, parentScope, true); // mount the new tag\n\n      this.name = name;\n      this.tag = getTag(this.getComponent(name), this.slots, this.attributes);\n      this.tag.mount(this.node, scope);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, keepRootTag) {\n    if (this.tag) {\n      // keep the root tag\n      this.tag.unmount(keepRootTag);\n    }\n\n    return this;\n  }\n\n});\nfunction create$4(node, _ref2) {\n  let {\n    evaluate,\n    getComponent,\n    slots,\n    attributes\n  } = _ref2;\n  return Object.assign({}, TagBinding, {\n    node,\n    evaluate,\n    slots,\n    attributes,\n    getComponent\n  });\n}\n\nvar bindings = {\n  [IF]: create$1,\n  [SIMPLE]: create$3,\n  [EACH]: create,\n  [TAG]: create$4,\n  [SLOT]: createSlot\n};\n\n/**\n * Text expressions in a template tag will get childNodeIndex value normalized\n * depending on the position of the <template> tag offset\n * @param   {Expression[]} expressions - riot expressions array\n * @param   {number} textExpressionsOffset - offset of the <template> tag\n * @returns {Expression[]} expressions containing the text expressions normalized\n */\n\nfunction fixTextExpressionsOffset(expressions, textExpressionsOffset) {\n  return expressions.map(e => e.type === TEXT ? Object.assign({}, e, {\n    childNodeIndex: e.childNodeIndex + textExpressionsOffset\n  }) : e);\n}\n/**\n * Bind a new expression object to a DOM node\n * @param   {HTMLElement} root - DOM node where to bind the expression\n * @param   {Object} binding - binding data\n * @param   {number|null} templateTagOffset - if it's defined we need to fix the text expressions childNodeIndex offset\n * @returns {Binding} Binding object\n */\n\n\nfunction create$5(root, binding, templateTagOffset) {\n  const {\n    selector,\n    type,\n    redundantAttribute,\n    expressions\n  } = binding; // find the node to apply the bindings\n\n  const node = selector ? root.querySelector(selector) : root; // remove eventually additional attributes created only to select this node\n\n  if (redundantAttribute) node.removeAttribute(redundantAttribute);\n  const bindingExpressions = expressions || []; // init the binding\n\n  return (bindings[type] || bindings[SIMPLE])(node, Object.assign({}, binding, {\n    expressions: templateTagOffset && !selector ? fixTextExpressionsOffset(bindingExpressions, templateTagOffset) : bindingExpressions\n  }));\n}\n\nfunction createHTMLTree(html, root) {\n  const template = isTemplate(root) ? root : document.createElement('template');\n  template.innerHTML = html;\n  return template.content;\n} // for svg nodes we need a bit more work\n\n\nfunction createSVGTree(html, container) {\n  // create the SVGNode\n  const svgNode = container.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\">${html}</svg>`, 'application/xml').documentElement, true);\n  return svgNode;\n}\n/**\n * Create the DOM that will be injected\n * @param {Object} root - DOM node to find out the context where the fragment will be created\n * @param   {string} html - DOM to create as string\n * @returns {HTMLDocumentFragment|HTMLElement} a new html fragment\n */\n\n\nfunction createDOMTree(root, html) {\n  if (isSvg(root)) return createSVGTree(html, root);\n  return createHTMLTree(html, root);\n}\n\n/**\n * Inject the DOM tree into a target node\n * @param   {HTMLElement} el - target element\n * @param   {HTMLFragment|SVGElement} dom - dom tree to inject\n * @returns {undefined}\n */\n\nfunction injectDOM(el, dom) {\n  switch (true) {\n    case isSvg(el):\n      moveChildren(dom, el);\n      break;\n\n    case isTemplate(el):\n      el.parentNode.replaceChild(dom, el);\n      break;\n\n    default:\n      el.appendChild(dom);\n  }\n}\n\n/**\n * Create the Template DOM skeleton\n * @param   {HTMLElement} el - root node where the DOM will be injected\n * @param   {string} html - markup that will be injected into the root node\n * @returns {HTMLFragment} fragment that will be injected into the root node\n */\n\nfunction createTemplateDOM(el, html) {\n  return html && (typeof html === 'string' ? createDOMTree(el, html) : html);\n}\n/**\n * Template Chunk model\n * @type {Object}\n */\n\n\nconst TemplateChunk = Object.freeze({\n  // Static props\n  // bindings: null,\n  // bindingsData: null,\n  // html: null,\n  // isTemplateTag: false,\n  // fragment: null,\n  // children: null,\n  // dom: null,\n  // el: null,\n\n  /**\n   * Create the template DOM structure that will be cloned on each mount\n   * @param   {HTMLElement} el - the root node\n   * @returns {TemplateChunk} self\n   */\n  createDOM(el) {\n    // make sure that the DOM gets created before cloning the template\n    this.dom = this.dom || createTemplateDOM(el, this.html);\n    return this;\n  },\n\n  // API methods\n\n  /**\n   * Attach the template to a DOM node\n   * @param   {HTMLElement} el - target DOM node\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n   * @returns {TemplateChunk} self\n   */\n  mount(el, scope, parentScope, meta) {\n    if (meta === void 0) {\n      meta = {};\n    }\n\n    if (!el) throw new Error('Please provide DOM node to mount properly your template');\n    if (this.el) this.unmount(scope); // <template> tags require a bit more work\n    // the template fragment might be already created via meta outside of this call\n\n    const {\n      fragment,\n      children,\n      avoidDOMInjection\n    } = meta; // <template> bindings of course can not have a root element\n    // so we check the parent node to set the query selector bindings\n\n    const {\n      parentNode\n    } = children ? children[0] : el;\n    const isTemplateTag = isTemplate(el);\n    const templateTagOffset = isTemplateTag ? Math.max(Array.from(parentNode.childNodes).indexOf(el), 0) : null;\n    this.isTemplateTag = isTemplateTag; // create the DOM if it wasn't created before\n\n    this.createDOM(el);\n\n    if (this.dom) {\n      // create the new template dom fragment if it want already passed in via meta\n      this.fragment = fragment || this.dom.cloneNode(true);\n    } // store root node\n    // notice that for template tags the root note will be the parent tag\n\n\n    this.el = this.isTemplateTag ? parentNode : el; // create the children array only for the <template> fragments\n\n    this.children = this.isTemplateTag ? children || Array.from(this.fragment.childNodes) : null; // inject the DOM into the el only if a fragment is available\n\n    if (!avoidDOMInjection && this.fragment) injectDOM(el, this.fragment); // create the bindings\n\n    this.bindings = this.bindingsData.map(binding => create$5(this.el, binding, templateTagOffset));\n    this.bindings.forEach(b => b.mount(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Update the template with fresh data\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @returns {TemplateChunk} self\n   */\n  update(scope, parentScope) {\n    this.bindings.forEach(b => b.update(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Remove the template from the node where it was initially mounted\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {boolean|null} mustRemoveRoot - if true remove the root element,\n   * if false or undefined clean the root tag content, if null don't touch the DOM\n   * @returns {TemplateChunk} self\n   */\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.el) {\n      this.bindings.forEach(b => b.unmount(scope, parentScope, mustRemoveRoot));\n\n      switch (true) {\n        // <template> tags should be treated a bit differently\n        // we need to clear their children only if it's explicitly required by the caller\n        // via mustRemoveRoot !== null\n        case this.children && mustRemoveRoot !== null:\n          clearChildren(this.children);\n          break;\n        // remove the root node only if the mustRemoveRoot === true\n\n        case mustRemoveRoot === true:\n          removeNode(this.el);\n          break;\n        // otherwise we clean the node children\n\n        case mustRemoveRoot !== null:\n          cleanNode(this.el);\n          break;\n      }\n\n      this.el = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Clone the template chunk\n   * @returns {TemplateChunk} a clone of this object resetting the this.el property\n   */\n  clone() {\n    return Object.assign({}, this, {\n      el: null\n    });\n  }\n\n});\n/**\n * Create a template chunk wiring also the bindings\n * @param   {string|HTMLElement} html - template string\n * @param   {Array} bindings - bindings collection\n * @returns {TemplateChunk} a new TemplateChunk copy\n */\n\nfunction create$6(html, bindings) {\n  if (bindings === void 0) {\n    bindings = [];\n  }\n\n  return Object.assign({}, TemplateChunk, {\n    html,\n    bindingsData: bindings\n  });\n}\n\n/**\n * Method used to bind expressions to a DOM node\n * @param   {string|HTMLElement} html - your static template html structure\n * @param   {Array} bindings - list of the expressions to bind to update the markup\n * @returns {TemplateChunk} a new TemplateChunk object having the `update`,`mount`, `unmount` and `clone` methods\n *\n * @example\n *\n * riotDOMBindings\n *  .template(\n *   `<div expr0><!----></div><div><p expr1><!----><section expr2></section></p>`,\n *   [\n *     {\n *       selector: '[expr0]',\n *       redundantAttribute: 'expr0',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.time;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr1]',\n *       redundantAttribute: 'expr1',\n *       expressions: [\n *         {\n *           type: expressionTypes.TEXT,\n *           childNodeIndex: 0,\n *           evaluate(scope) {\n *             return scope.name;\n *           },\n *         },\n *         {\n *           type: 'attribute',\n *           name: 'style',\n *           evaluate(scope) {\n *             return scope.style;\n *           },\n *         },\n *       ],\n *     },\n *     {\n *       selector: '[expr2]',\n *       redundantAttribute: 'expr2',\n *       type: bindingTypes.IF,\n *       evaluate(scope) {\n *         return scope.isVisible;\n *       },\n *       template: riotDOMBindings.template('hello there'),\n *     },\n *   ]\n * )\n */\n\nvar DOMBindings = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  template: create$6,\n  createBinding: create$5,\n  createExpression: create$2,\n  bindingTypes: bindingTypes,\n  expressionTypes: expressionTypes\n});\n\nfunction noop() {\n  return this;\n}\n/**\n * Autobind the methods of a source object to itself\n * @param   {Object} source - probably a riot tag instance\n * @param   {Array<string>} methods - list of the methods to autobind\n * @returns {Object} the original object received\n */\n\nfunction autobindMethods(source, methods) {\n  methods.forEach(method => {\n    source[method] = source[method].bind(source);\n  });\n  return source;\n}\n/**\n * Call the first argument received only if it's a function otherwise return it as it is\n * @param   {*} source - anything\n * @returns {*} anything\n */\n\nfunction callOrAssign(source) {\n  return isFunction(source) ? source.prototype && source.prototype.constructor ? new source() : source() : source;\n}\n\n/**\n * Helper function to set an immutable property\n * @param   {Object} source - object where the new property will be set\n * @param   {string} key - object key where the new property will be stored\n * @param   {*} value - value of the new property\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} - the original object modified\n */\nfunction defineProperty(source, key, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  /* eslint-disable fp/no-mutating-methods */\n  Object.defineProperty(source, key, Object.assign({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  /* eslint-enable fp/no-mutating-methods */\n\n  return source;\n}\n/**\n * Define multiple properties on a target object\n * @param   {Object} source - object where the new properties will be set\n * @param   {Object} properties - object containing as key pair the key + value properties\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} the original object modified\n */\n\nfunction defineProperties(source, properties, options) {\n  Object.entries(properties).forEach((_ref) => {\n    let [key, value] = _ref;\n    defineProperty(source, key, value, options);\n  });\n  return source;\n}\n/**\n * Define default properties if they don't exist on the source object\n * @param   {Object} source - object that will receive the default properties\n * @param   {Object} defaults - object containing additional optional keys\n * @returns {Object} the original object received enhanced\n */\n\nfunction defineDefaults(source, defaults) {\n  Object.entries(defaults).forEach((_ref2) => {\n    let [key, value] = _ref2;\n    if (!source[key]) source[key] = value;\n  });\n  return source;\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\n\nfunction $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ? (ctx || document).querySelectorAll(selector) : selector);\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Object }              name  - either the name of the attribute to set\n *                                                 or a list of properties as object key - value\n * @param   { string }                     value - the new value of the attribute (optional)\n * @returns { HTMLElement|NodeList|Array } the original array of elements passed to this function\n *\n * @example\n *\n * import { set } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * set(img, 'width', 100)\n *\n * // or also\n * set(img, {\n *   width: 300,\n *   height: 300\n * })\n *\n */\n\n\nfunction set(els, name, value) {\n  const attrs = typeof name === 'object' ? name : {\n    [name]: value\n  };\n  const props = Object.keys(attrs);\n  domToArray(els).forEach(el => {\n    props.forEach(prop => el.setAttribute(prop, attrs[prop]));\n  });\n  return els;\n}\n/**\n * Get any attribute from a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to get\n * @returns { Array|string } list of the attributes found\n *\n * @example\n *\n * import { get } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * get(img, 'width') // => '200'\n *\n * // or also\n * get(img, ['width', 'height']) // => ['200', '300']\n *\n * // or also\n * get([img1, img2], ['width', 'height']) // => [['200', '300'], ['500', '200']]\n */\n\nfunction get(els, name) {\n  return parseNodes(els, name, 'getAttribute');\n}\n\nconst CSS_BY_NAME = new Map();\nconst STYLE_NODE_SELECTOR = 'style[riot]'; // memoized curried function\n\nconst getStyleNode = (style => {\n  return () => {\n    // lazy evaluation:\n    // if this function was already called before\n    // we return its cached result\n    if (style) return style; // create a new style element or use an existing one\n    // and cache it internally\n\n    style = $(STYLE_NODE_SELECTOR)[0] || document.createElement('style');\n    set(style, 'type', 'text/css');\n    /* istanbul ignore next */\n\n    if (!style.parentNode) document.head.appendChild(style);\n    return style;\n  };\n})();\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\n\n\nvar cssManager = {\n  CSS_BY_NAME,\n\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { string } name - if it's passed we will map the css to a tagname\n   * @param { string } css - css string\n   * @returns {Object} self\n   */\n  add(name, css) {\n    if (!CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.set(name, css);\n      this.inject();\n    }\n\n    return this;\n  },\n\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   * @returns {Object} self\n   */\n  inject() {\n    getStyleNode().innerHTML = [...CSS_BY_NAME.values()].join('\\n');\n    return this;\n  },\n\n  /**\n   * Remove a tag style from the DOM\n   * @param {string} name a registered tagname\n   * @returns {Object} self\n   */\n  remove(name) {\n    if (CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.delete(name);\n      this.inject();\n    }\n\n    return this;\n  }\n\n};\n\n/**\n * Function to curry any javascript method\n * @param   {Function}  fn - the target function we want to curry\n * @param   {...[args]} acc - initial arguments\n * @returns {Function|*} it will return a function until the target function\n *                       will receive all of its arguments\n */\nfunction curry(fn) {\n  for (var _len = arguments.length, acc = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    acc[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args = [...acc, ...args];\n    return args.length < fn.length ? curry(fn, ...args) : fn(...args);\n  };\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   {HTMLElement} element - DOM node we want to inspect\n * @returns {string} name to identify this dom node in riot\n */\n\nfunction getName(element) {\n  return get(element, IS_DIRECTIVE) || element.tagName.toLowerCase();\n}\n\nconst COMPONENT_CORE_HELPERS = Object.freeze({\n  // component helpers\n  $(selector) {\n    return $(selector, this.root)[0];\n  },\n\n  $$(selector) {\n    return $(selector, this.root);\n  }\n\n});\nconst PURE_COMPONENT_API = Object.freeze({\n  [MOUNT_METHOD_KEY]: noop,\n  [UPDATE_METHOD_KEY]: noop,\n  [UNMOUNT_METHOD_KEY]: noop\n});\nconst COMPONENT_LIFECYCLE_METHODS = Object.freeze({\n  [SHOULD_UPDATE_KEY]: noop,\n  [ON_BEFORE_MOUNT_KEY]: noop,\n  [ON_MOUNTED_KEY]: noop,\n  [ON_BEFORE_UPDATE_KEY]: noop,\n  [ON_UPDATED_KEY]: noop,\n  [ON_BEFORE_UNMOUNT_KEY]: noop,\n  [ON_UNMOUNTED_KEY]: noop\n});\nconst MOCKED_TEMPLATE_INTERFACE = Object.assign({}, PURE_COMPONENT_API, {\n  clone: noop,\n  createDOM: noop\n});\n/**\n * Evaluate the component properties either from its real attributes or from its initial user properties\n * @param   {HTMLElement} element - component root\n * @param   {Object}  initialProps - initial props\n * @returns {Object} component props key value pairs\n */\n\nfunction evaluateInitialProps(element, initialProps) {\n  if (initialProps === void 0) {\n    initialProps = {};\n  }\n\n  return Object.assign({}, DOMattributesToObject(element), callOrAssign(initialProps));\n}\n/**\n * Bind a DOM node to its component object\n * @param   {HTMLElement} node - html node mounted\n * @param   {Object} component - Riot.js component object\n * @returns {Object} the component object received as second argument\n */\n\n\nconst bindDOMNodeToComponentObject = (node, component) => node[DOM_COMPONENT_INSTANCE_PROPERTY] = component;\n/**\n * Wrap the Riot.js core API methods using a mapping function\n * @param   {Function} mapFunction - lifting function\n * @returns {Object} an object having the { mount, update, unmount } functions\n */\n\n\nfunction createCoreAPIMethods(mapFunction) {\n  return [MOUNT_METHOD_KEY, UPDATE_METHOD_KEY, UNMOUNT_METHOD_KEY].reduce((acc, method) => {\n    acc[method] = mapFunction(method);\n    return acc;\n  }, {});\n}\n/**\n * Factory function to create the component templates only once\n * @param   {Function} template - component template creation function\n * @param   {Object} components - object containing the nested components\n * @returns {TemplateChunk} template chunk object\n */\n\n\nfunction componentTemplateFactory(template, components) {\n  return template(create$6, expressionTypes, bindingTypes, name => {\n    return components[name] || COMPONENTS_IMPLEMENTATION_MAP.get(name);\n  });\n}\n/**\n * Create a pure component\n * @param   {Function} pureFactoryFunction - pure component factory function\n * @param   {Array} options.slots - component slots\n * @param   {Array} options.attributes - component attributes\n * @param   {Array} options.template - template factory function\n * @param   {Array} options.template - template factory function\n * @param   {any} options.props - initial component properties\n * @returns {Object} pure component object\n */\n\n\nfunction createPureComponent(pureFactoryFunction, _ref) {\n  let {\n    slots,\n    attributes,\n    props,\n    css,\n    template\n  } = _ref;\n  if (template) panic('Pure components can not have html');\n  if (css) panic('Pure components do not have css');\n  const component = defineDefaults(pureFactoryFunction({\n    slots,\n    attributes,\n    props\n  }), PURE_COMPONENT_API);\n  return createCoreAPIMethods(method => function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // intercept the mount calls to bind the DOM node to the pure object created\n    // see also https://github.com/riot/riot/issues/2806\n    if (method === MOUNT_METHOD_KEY) {\n      const [el] = args;\n      bindDOMNodeToComponentObject(el, component);\n    }\n\n    component[method](...args);\n    return component;\n  });\n}\n/**\n * Create the component interface needed for the @riotjs/dom-bindings tag bindings\n * @param   {string} options.css - component css\n * @param   {Function} options.template - functon that will return the dom-bindings template function\n * @param   {Object} options.exports - component interface\n * @param   {string} options.name - component name\n * @returns {Object} component like interface\n */\n\n\nfunction createComponent(_ref2) {\n  let {\n    css,\n    template,\n    exports,\n    name\n  } = _ref2;\n  const templateFn = template ? componentTemplateFactory(template, exports ? createSubcomponents(exports.components) : {}) : MOCKED_TEMPLATE_INTERFACE;\n  return (_ref3) => {\n    let {\n      slots,\n      attributes,\n      props\n    } = _ref3;\n    // pure components rendering will be managed by the end user\n    if (exports && exports[IS_PURE_SYMBOL]) return createPureComponent(exports, {\n      slots,\n      attributes,\n      props,\n      css,\n      template\n    });\n    const componentAPI = callOrAssign(exports) || {};\n    const component = defineComponent({\n      css,\n      template: templateFn,\n      componentAPI,\n      name\n    })({\n      slots,\n      attributes,\n      props\n    }); // notice that for the components create via tag binding\n    // we need to invert the mount (state/parentScope) arguments\n    // the template bindings will only forward the parentScope updates\n    // and never deal with the component state\n\n    return {\n      mount(element, parentScope, state) {\n        return component.mount(element, state, parentScope);\n      },\n\n      update(parentScope, state) {\n        return component.update(state, parentScope);\n      },\n\n      unmount(preserveRoot) {\n        return component.unmount(preserveRoot);\n      }\n\n    };\n  };\n}\n/**\n * Component definition function\n * @param   {Object} implementation - the componen implementation will be generated via compiler\n * @param   {Object} component - the component initial properties\n * @returns {Object} a new component implementation object\n */\n\nfunction defineComponent(_ref4) {\n  let {\n    css,\n    template,\n    componentAPI,\n    name\n  } = _ref4;\n  // add the component css into the DOM\n  if (css && name) cssManager.add(name, css);\n  return curry(enhanceComponentAPI)(defineProperties( // set the component defaults without overriding the original component API\n  defineDefaults(componentAPI, Object.assign({}, COMPONENT_LIFECYCLE_METHODS, {\n    [STATE_KEY]: {}\n  })), Object.assign({\n    // defined during the component creation\n    [SLOTS_KEY]: null,\n    [ROOT_KEY]: null\n  }, COMPONENT_CORE_HELPERS, {\n    name,\n    css,\n    template\n  })));\n}\n/**\n * Create the bindings to update the component attributes\n * @param   {HTMLElement} node - node where we will bind the expressions\n * @param   {Array} attributes - list of attribute bindings\n * @returns {TemplateChunk} - template bindings object\n */\n\nfunction createAttributeBindings(node, attributes) {\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  const expressions = attributes.map(a => create$2(node, a));\n  const binding = {};\n  return Object.assign(binding, Object.assign({\n    expressions\n  }, createCoreAPIMethods(method => scope => {\n    expressions.forEach(e => e[method](scope));\n    return binding;\n  })));\n}\n/**\n * Create the subcomponents that can be included inside a tag in runtime\n * @param   {Object} components - components imported in runtime\n * @returns {Object} all the components transformed into Riot.Component factory functions\n */\n\n\nfunction createSubcomponents(components) {\n  if (components === void 0) {\n    components = {};\n  }\n\n  return Object.entries(callOrAssign(components)).reduce((acc, _ref5) => {\n    let [key, value] = _ref5;\n    acc[camelToDashCase(key)] = createComponent(value);\n    return acc;\n  }, {});\n}\n/**\n * Run the component instance through all the plugins set by the user\n * @param   {Object} component - component instance\n * @returns {Object} the component enhanced by the plugins\n */\n\n\nfunction runPlugins(component) {\n  return [...PLUGINS_SET].reduce((c, fn) => fn(c) || c, component);\n}\n/**\n * Compute the component current state merging it with its previous state\n * @param   {Object} oldState - previous state object\n * @param   {Object} newState - new state givent to the `update` call\n * @returns {Object} new object state\n */\n\n\nfunction computeState(oldState, newState) {\n  return Object.assign({}, oldState, callOrAssign(newState));\n}\n/**\n * Add eventually the \"is\" attribute to link this DOM node to its css\n * @param {HTMLElement} element - target root node\n * @param {string} name - name of the component mounted\n * @returns {undefined} it's a void function\n */\n\n\nfunction addCssHook(element, name) {\n  if (getName(element) !== name) {\n    set(element, IS_DIRECTIVE, name);\n  }\n}\n/**\n * Component creation factory function that will enhance the user provided API\n * @param   {Object} component - a component implementation previously defined\n * @param   {Array} options.slots - component slots generated via riot compiler\n * @param   {Array} options.attributes - attribute expressions generated via riot compiler\n * @returns {Riot.Component} a riot component instance\n */\n\n\nfunction enhanceComponentAPI(component, _ref6) {\n  let {\n    slots,\n    attributes,\n    props\n  } = _ref6;\n  return autobindMethods(runPlugins(defineProperties(Object.create(component), {\n    mount(element, state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      this[ATTRIBUTES_KEY_SYMBOL] = createAttributeBindings(element, attributes).mount(parentScope);\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, evaluateInitialProps(element, props), evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions))));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[TEMPLATE_KEY_SYMBOL] = this.template.createDOM(element).clone(); // link this object to the DOM node\n\n      bindDOMNodeToComponentObject(element, this); // add eventually the 'is' attribute\n\n      component.name && addCssHook(element, component.name); // define the root element\n\n      defineProperty(this, ROOT_KEY, element); // define the slots array\n\n      defineProperty(this, SLOTS_KEY, slots); // before mount lifecycle event\n\n      this[ON_BEFORE_MOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[PARENT_KEY_SYMBOL] = parentScope; // mount the template\n\n      this[TEMPLATE_KEY_SYMBOL].mount(element, this, parentScope);\n      this[ON_MOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    update(state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      if (parentScope) {\n        this[ATTRIBUTES_KEY_SYMBOL].update(parentScope);\n      }\n\n      const newProps = evaluateAttributeExpressions(this[ATTRIBUTES_KEY_SYMBOL].expressions);\n      if (this[SHOULD_UPDATE_KEY](newProps, this[PROPS_KEY]) === false) return;\n      defineProperty(this, PROPS_KEY, Object.freeze(Object.assign({}, this[PROPS_KEY], newProps)));\n      this[STATE_KEY] = computeState(this[STATE_KEY], state);\n      this[ON_BEFORE_UPDATE_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[TEMPLATE_KEY_SYMBOL].update(this, this[PARENT_KEY_SYMBOL]);\n      this[ON_UPDATED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    },\n\n    unmount(preserveRoot) {\n      this[ON_BEFORE_UNMOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      this[ATTRIBUTES_KEY_SYMBOL].unmount(); // if the preserveRoot is null the template html will be left untouched\n      // in that case the DOM cleanup will happen differently from a parent node\n\n      this[TEMPLATE_KEY_SYMBOL].unmount(this, this[PARENT_KEY_SYMBOL], preserveRoot === null ? null : !preserveRoot);\n      this[ON_UNMOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n      return this;\n    }\n\n  })), Object.keys(component).filter(prop => isFunction(component[prop])));\n}\n/**\n * Component initialization function starting from a DOM node\n * @param   {HTMLElement} element - element to upgrade\n * @param   {Object} initialProps - initial component properties\n * @param   {string} componentName - component id\n * @returns {Object} a new component instance bound to a DOM node\n */\n\nfunction mountComponent(element, initialProps, componentName) {\n  const name = componentName || getName(element);\n  if (!COMPONENTS_IMPLEMENTATION_MAP.has(name)) panic(`The component named \"${name}\" was never registered`);\n  const component = COMPONENTS_IMPLEMENTATION_MAP.get(name)({\n    props: initialProps\n  });\n  return component.mount(element);\n}\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst {\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY$1,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP$1,\n  PLUGINS_SET: PLUGINS_SET$1\n} = globals;\n/**\n * Riot public api\n */\n\n/**\n * Register a custom tag by name\n * @param   {string} name - component name\n * @param   {Object} implementation - tag implementation\n * @returns {Map} map containing all the components implementations\n */\n\nfunction register(name, _ref) {\n  let {\n    css,\n    template,\n    exports\n  } = _ref;\n  if (COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was already registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.set(name, createComponent({\n    name,\n    css,\n    template,\n    exports\n  }));\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Unregister a riot web component\n * @param   {string} name - component name\n * @returns {Map} map containing all the components implementations\n */\n\nfunction unregister(name) {\n  if (!COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was never registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.delete(name);\n  cssManager.remove(name);\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Mounting function that will work only for the components that were globally registered\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {Object} initialProps - the initial component properties\n * @param   {string} name - optional component name\n * @returns {Array} list of nodes upgraded\n */\n\nfunction mount(selector, initialProps, name) {\n  return $(selector).map(element => mountComponent(element, initialProps, name));\n}\n/**\n * Sweet unmounting helper function for the DOM node mounted manually by the user\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {boolean|null} keepRootElement - if true keep the root element\n * @returns {Array} list of nodes unmounted\n */\n\nfunction unmount(selector, keepRootElement) {\n  return $(selector).map(element => {\n    if (element[DOM_COMPONENT_INSTANCE_PROPERTY$1]) {\n      element[DOM_COMPONENT_INSTANCE_PROPERTY$1].unmount(keepRootElement);\n    }\n\n    return element;\n  });\n}\n/**\n * Define a riot plugin\n * @param   {Function} plugin - function that will receive all the components created\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction install(plugin) {\n  if (!isFunction(plugin)) panic('Plugins must be of type function');\n  if (PLUGINS_SET$1.has(plugin)) panic('This plugin was already installed');\n  PLUGINS_SET$1.add(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Uninstall a riot plugin\n * @param   {Function} plugin - plugin previously installed\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction uninstall(plugin) {\n  if (!PLUGINS_SET$1.has(plugin)) panic('This plugin was never installed');\n  PLUGINS_SET$1.delete(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Helper method to create component without relying on the registered ones\n * @param   {Object} implementation - component implementation\n * @returns {Function} function that will allow you to mount a riot component on a DOM node\n */\n\nfunction component(implementation) {\n  return function (el, props, _temp) {\n    let {\n      slots,\n      attributes,\n      parentScope\n    } = _temp === void 0 ? {} : _temp;\n    return compose(c => c.mount(el, parentScope), c => c({\n      props,\n      slots,\n      attributes\n    }), createComponent)(implementation);\n  };\n}\n/**\n * Lift a riot component Interface into a pure riot object\n * @param   {Function} func - RiotPureComponent factory function\n * @returns {Function} the lifted original function received as argument\n */\n\nfunction pure(func) {\n  if (!isFunction(func)) panic('riot.pure accepts only arguments of type \"function\"');\n  func[IS_PURE_SYMBOL] = true;\n  return func;\n}\n/** @type {string} current riot version */\n\nconst version = 'v4.13.2'; // expose some internal stuff that might be used from external tools\n\nconst __ = {\n  cssManager,\n  DOMBindings,\n  createComponent,\n  defineComponent,\n  globals\n};\n\nexport { __, component, install, mount, pure, register, uninstall, unmount, unregister, version };\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('riot')) :\n  typeof define === 'function' && define.amd ? define(['riot'], factory) :\n  (global = global || self, global.lazy = factory(global.riot));\n}(this, (function (riot) { 'use strict';\n\n  const cache = new WeakMap(); // expose the cache as static property\n\n  lazy.cache = cache; // static attribute in case we want to just export a lazy riot component\n\n  lazy.export = function lazyExport(Loader, Component) {\n    // it could be that the user don't want to use a loader for whatever reason\n    const hasLoader = Loader && Component;\n    const LazyComponent = hasLoader ? Component : Loader;\n\n    const load = () => typeof LazyComponent === 'function' ? LazyComponent() : Promise.resolve(LazyComponent);\n\n    const cachedComponent = cache.get(LazyComponent);\n    return riot.pure((_ref) => {\n      let {\n        slots,\n        attributes,\n        props\n      } = _ref;\n      return {\n        mount(el, parentScope) {\n          this.el = el;\n          this.isMounted = true;\n\n          const mount = () => this.mountLazyComponent(parentScope);\n\n          if (cachedComponent) {\n            mount();\n          } else {\n            if (hasLoader) this.createManagedComponent(Loader, parentScope);\n            load().then(data => {\n              cache.set(LazyComponent, data.default || data);\n              mount();\n            });\n          }\n        },\n\n        createManagedComponent(Child, parentScope) {\n          this.component = riot.component(Child)(this.el, props, {\n            attributes,\n            slots,\n            parentScope\n          });\n        },\n\n        mountLazyComponent(parentScope) {\n          // if this component was unmounted just return here\n          if (!this.isMounted) return; // unmount the loader if it was previously created\n          // notice the true flat to keep the root node\n\n          if (this.component) this.component.unmount(true); // replace the old component instance with the new lazy loaded component\n\n          this.createManagedComponent(cache.get(LazyComponent), parentScope);\n        },\n\n        update(parentScope) {\n          if (this.isMounted && this.component) this.component.update({}, parentScope);\n        },\n\n        unmount() {\n          this.isMounted = false;\n          if (this.component) this.component.unmount(...arguments);\n        }\n\n      };\n    });\n  };\n\n  function lazy(Loader, Component) {\n    return {\n      name: 'lazy',\n      exports: lazy.export(Loader, Component)\n    };\n  }\n\n  return lazy;\n\n})));\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('riot'), require('bianco.query')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'riot', 'bianco.query'], factory) :\n  (global = global || self, factory(global.riotHotReload = {}, global.riot, global.$));\n}(this, (function (exports, riot, $) { 'use strict';\n\n  $ = $ && Object.prototype.hasOwnProperty.call($, 'default') ? $['default'] : $;\n\n  const { cssManager } = riot.__;\n  const { DOM_COMPONENT_INSTANCE_PROPERTY } = riot.__.globals;\n\n  function reload(componentAPI) {\n    const {name} = componentAPI;\n\n    if (!name) {\n      console.warn('Anonymous components can not be reloaded'); // eslint-disable-line\n      return []\n    }\n\n    return $(`${name}, [is=${name}]`).map(el => {\n      const oldTag = el[DOM_COMPONENT_INSTANCE_PROPERTY];\n\n      // early return in case there is no riot instance found\n      if (!oldTag) return\n\n      // remove the tag template from the DOM\n      oldTag.unmount(true);\n      // delete the old css from the css manager\n      cssManager.remove(name);\n\n      // create the new tag\n      const newTag = riot.component(componentAPI)(el, oldTag.props);\n      newTag.update(oldTag.state);\n\n      return newTag\n    })\n  }\n\n  exports.default = reload;\n  exports.reload = reload;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var map = {\n\t\"./my-component/my-component.riot\": 14,\n\t\"./sidebar/sidebar.riot\": 17\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 13;","<my-component>\n  <p>{ props.message }</p>\n</my-component>","import { pure, __ } from 'riot';\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n  var tokens = [];\n  var i = 0;\n\n  while (i < str.length) {\n    var char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({\n        type: \"MODIFIER\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({\n        type: \"ESCAPED_CHAR\",\n        index: i++,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({\n        type: \"OPEN\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({\n        type: \"CLOSE\",\n        index: i,\n        value: str[i++]\n      });\n      continue;\n    }\n\n    if (char === \":\") {\n      var name = \"\";\n      var j = i + 1;\n\n      while (j < str.length) {\n        var code = str.charCodeAt(j);\n\n        if ( // `0-9`\n        code >= 48 && code <= 57 || // `A-Z`\n        code >= 65 && code <= 90 || // `a-z`\n        code >= 97 && code <= 122 || // `_`\n        code === 95) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(\"Missing parameter name at \" + i);\n      tokens.push({\n        type: \"NAME\",\n        index: i,\n        value: name\n      });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      var count = 1;\n      var pattern = \"\";\n      var j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(\"Capturing groups are not allowed at \" + j);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(\"Unbalanced pattern at \" + i);\n      if (!pattern) throw new TypeError(\"Missing pattern at \" + i);\n      tokens.push({\n        type: \"PATTERN\",\n        index: i,\n        value: pattern\n      });\n      i = j;\n      continue;\n    }\n\n    tokens.push({\n      type: \"CHAR\",\n      index: i,\n      value: str[i++]\n    });\n  }\n\n  tokens.push({\n    type: \"END\",\n    index: i,\n    value: \"\"\n  });\n  return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\n\n\nfunction parse(str, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var tokens = lexer(str);\n  var _a = options.prefixes,\n      prefixes = _a === void 0 ? \"./\" : _a;\n  var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n  var result = [];\n  var key = 0;\n  var i = 0;\n  var path = \"\";\n\n  var tryConsume = function tryConsume(type) {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  var mustConsume = function mustConsume(type) {\n    var value = tryConsume(type);\n    if (value !== undefined) return value;\n    var _a = tokens[i],\n        nextType = _a.type,\n        index = _a.index;\n    throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n  };\n\n  var consumeText = function consumeText() {\n    var result = \"\";\n    var value; // tslint:disable-next-line\n\n    while (value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\")) {\n      result += value;\n    }\n\n    return result;\n  };\n\n  while (i < tokens.length) {\n    var char = tryConsume(\"CHAR\");\n    var name = tryConsume(\"NAME\");\n    var pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      var prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix: prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\"\n      });\n      continue;\n    }\n\n    var value = char || tryConsume(\"ESCAPED_CHAR\");\n\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    var open = tryConsume(\"OPEN\");\n\n    if (open) {\n      var prefix = consumeText();\n      var name_1 = tryConsume(\"NAME\") || \"\";\n      var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n      var suffix = consumeText();\n      mustConsume(\"CLOSE\");\n      result.push({\n        name: name_1 || (pattern_1 ? key++ : \"\"),\n        pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n        prefix: prefix,\n        suffix: suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\"\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\n\nfunction compile(str, options) {\n  return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\n\nfunction tokensToFunction(tokens, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var reFlags = flags(options);\n  var _a = options.encode,\n      encode = _a === void 0 ? function (x) {\n    return x;\n  } : _a,\n      _b = options.validate,\n      validate = _b === void 0 ? true : _b; // Compile all the tokens into regexps.\n\n  var matches = tokens.map(function (token) {\n    if (typeof token === \"object\") {\n      return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n    }\n  });\n  return function (data) {\n    var path = \"\";\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      var value = data ? data[token.name] : undefined;\n      var optional = token.modifier === \"?\" || token.modifier === \"*\";\n      var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          var segment = encode(value[j], token);\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        var segment = encode(String(value), token);\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n      var typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n    }\n\n    return path;\n  };\n}\n/**\n * Escape a regular expression string.\n */\n\nfunction escapeString(str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\n\n\nfunction flags(options) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\n\n\nfunction regexpToRegexp(path, keys) {\n  if (!keys) return path; // Use a negative lookahead to match only capturing groups.\n\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: \"\",\n        suffix: \"\",\n        modifier: \"\",\n        pattern: \"\"\n      });\n    }\n  }\n\n  return path;\n}\n/**\n * Transform an array into a regexp.\n */\n\n\nfunction arrayToRegexp(paths, keys, options) {\n  var parts = paths.map(function (path) {\n    return pathToRegexp(path, keys, options).source;\n  });\n  return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\n\n\nfunction stringToRegexp(path, keys, options) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\n\n\nfunction tokensToRegexp(tokens, keys, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.strict,\n      strict = _a === void 0 ? false : _a,\n      _b = options.start,\n      start = _b === void 0 ? true : _b,\n      _c = options.end,\n      end = _c === void 0 ? true : _c,\n      _d = options.encode,\n      encode = _d === void 0 ? function (x) {\n    return x;\n  } : _d;\n  var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n  var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n  var route = start ? \"^\" : \"\"; // Iterate over the tokens and create our regexp string.\n\n  for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n    var token = tokens_1[_i];\n\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      var prefix = escapeString(encode(token.prefix));\n      var suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            var mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n          } else {\n            route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n          }\n        } else {\n          route += \"(\" + token.pattern + \")\" + token.modifier;\n        }\n      } else {\n        route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += delimiter + \"?\";\n    route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n  } else {\n    var endToken = tokens[tokens.length - 1];\n    var isEndDelimited = typeof endToken === \"string\" ? delimiter.indexOf(endToken[endToken.length - 1]) > -1 : // tslint:disable-next-line\n    endToken === undefined;\n\n    if (!strict) {\n      route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n    }\n\n    if (!isEndDelimited) {\n      route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\n\nfunction pathToRegexp(path, keys, options) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n\n/**\n * Cancel token\n * @private\n * @type { Symbol }\n */\nconst CANCEL = Symbol();\n/**\n * Helper that can be returned by ruit function to cancel the tasks chain\n * @returns { Symbol } internal private constant\n * @example\n *\n * ruit(\n *   100,\n *   num => Math.random() * num\n *   num => num > 50 ? ruit.cancel() : num\n *   num => num - 2\n * ).then(result => {\n *   console.log(result) // here we will get only number lower than 50\n * })\n *\n */\n\nruit.cancel = () => CANCEL;\n/**\n * The same as ruit() but with the arguments inverted from right to left\n * @param   { * } tasks - list of tasks to process sequentially\n * @returns { Promise } a promise containing the result of the whole chain\n * @example\n *\n * const curry = f => a => b => f(a, b)\n * const add = (a, b) => a + b\n *\n * const addOne = curry(add)(1)\n *\n * const squareAsync = (num) => {\n *   return new Promise(r => {\n *     setTimeout(r, 500, num * 2)\n *   })\n * }\n *\n * // a -> a + a -> a * 2\n * // basically from right to left: 1 => 1 + 1 => 2 * 2\n * ruit.compose(squareAsync, addOne, 1).then(result => console.log(result)) // 4\n */\n\n\nruit.compose = function () {\n  for (var _len = arguments.length, tasks = new Array(_len), _key = 0; _key < _len; _key++) {\n    tasks[_key] = arguments[_key];\n  }\n\n  return ruit(...tasks.reverse());\n};\n/**\n * Serialize a list of sync and async tasks from left to right\n * @param   { * } tasks - list of tasks to process sequentially\n * @returns { Promise } a promise containing the result of the whole chain\n * @example\n *\n * const curry = f => a => b => f(a, b)\n * const add = (a, b) => a + b\n *\n * const addOne = curry(add)(1)\n *\n * const squareAsync = (num) => {\n *   return new Promise(r => {\n *     setTimeout(r, 500, num * 2)\n *   })\n * }\n *\n * // a -> a + a -> a * 2\n * // basically from left to right: 1 => 1 + 1 => 2 * 2\n * ruit(1, addOne, squareAsync).then(result => console.log(result)) // 4\n */\n\n\nfunction ruit() {\n  for (var _len2 = arguments.length, tasks = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    tasks[_key2] = arguments[_key2];\n  }\n\n  return new Promise((resolve, reject) => {\n    return function run(queue, result) {\n      if (!queue.length) return resolve(result);\n      const [task, ...rest] = queue;\n      const value = typeof task === 'function' ? task(result) : task;\n\n      const done = v => run(rest, v); // check against nil values\n\n\n      if (value != null) {\n        if (value === CANCEL) return;\n        if (value.then) return value.then(done, reject);\n      }\n\n      return Promise.resolve(done(value));\n    }(tasks);\n  });\n}\n\nconst API_METHODS = new Set();\nconst UNSUBSCRIBE_SYMBOL = Symbol();\nconst UNSUBSCRIBE_METHOD = 'off';\nconst CANCEL_METHOD = 'cancel';\n/**\n * Factory function to create the stream generator\n * @private\n * @param {Set} modifiers - stream input modifiers\n * @returns {Generator} the stream generator\n */\n\nfunction createStream(modifiers) {\n  const stream = function* stream() {\n    while (true) {\n      // get the initial stream value\n      const input = yield; // run the input sequence\n\n      yield ruit(input, ...modifiers);\n    }\n  }(); // start the stream\n\n\n  stream.next();\n  return stream;\n}\n/**\n * Dispatch a value to several listeners\n * @private\n * @param   {Set} callbacks - callbacks collection\n * @param   {*} value - anything\n * @returns {Set} the callbacks received\n */\n\n\nfunction dispatch(callbacks, value) {\n  callbacks.forEach(f => {\n    // unsubscribe the callback if erre.unsubscribe() will be returned\n    if (f(value) === UNSUBSCRIBE_SYMBOL) callbacks.delete(f);\n  });\n  return callbacks;\n}\n/**\n * Throw a panic error\n * @param {string} message - error message\n * @returns {Error} an error object\n */\n\n\nfunction panic(message) {\n  throw new Error(message);\n}\n/**\n * Install an erre plugin adding it to the API\n * @param   {string} name - plugin name\n * @param   {Function} fn - new erre API method\n * @returns {Function} return the erre function\n */\n\n\nerre.install = function (name, fn) {\n  if (!name || typeof name !== 'string') panic('Please provide a name (as string) for your erre plugin');\n  if (!fn || typeof fn !== 'function') panic('Please provide a function for your erre plugin');\n\n  if (API_METHODS.has(name)) {\n    panic(`The ${name} is already part of the erre API, please provide a different name`);\n  } else {\n    erre[name] = fn;\n    API_METHODS.add(name);\n  }\n\n  return erre;\n}; // alias for ruit canel to stop a stream chain\n\n\nerre.install(CANCEL_METHOD, ruit.cancel); // unsubscribe helper\n\nerre.install(UNSUBSCRIBE_METHOD, () => UNSUBSCRIBE_SYMBOL);\n/**\n * Stream constuction function\n * @param   {...Function} fns - stream modifiers\n * @returns {Object} erre instance\n */\n\nfunction erre() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  const [success, error, end, modifiers] = [new Set(), new Set(), new Set(), new Set(fns)],\n        generator = createStream(modifiers),\n        stream = Object.create(generator),\n        addToCollection = collection => fn => collection.add(fn) && stream,\n        deleteFromCollection = collection => fn => collection.delete(fn) ? stream : panic('Couldn\\'t remove handler passed by reference');\n\n  return Object.assign(stream, {\n    on: Object.freeze({\n      value: addToCollection(success),\n      error: addToCollection(error),\n      end: addToCollection(end)\n    }),\n    off: Object.freeze({\n      value: deleteFromCollection(success),\n      error: deleteFromCollection(error),\n      end: deleteFromCollection(end)\n    }),\n    connect: addToCollection(modifiers),\n\n    push(input) {\n      const {\n        value,\n        done\n      } = stream.next(input); // dispatch the stream events\n\n      if (!done) {\n        value.then(res => dispatch(success, res), err => dispatch(error, err));\n      }\n\n      return stream;\n    },\n\n    end() {\n      // kill the stream\n      generator.return(); // dispatch the end event\n\n      dispatch(end) // clean up all the collections\n      ;\n      [success, error, end, modifiers].forEach(el => el.clear());\n      return stream;\n    },\n\n    fork() {\n      return erre(...modifiers);\n    },\n\n    next(input) {\n      // get the input and run eventually the promise\n      const result = generator.next(input); // pause to the next iteration\n\n      generator.next();\n      return result;\n    }\n\n  });\n}\n\nconst hasWindow = typeof window !== 'undefined';\n\nconst isString = str => typeof str === 'string'; // the url parsing function depends on the platform, on node we rely on the 'url' module\n\n/* istanbul ignore next */\n\n\nconst parseURL = function parseURL() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return hasWindow ? new URL(...args) : require('url').parse(...args);\n};\n/**\n * Replace the base path from a path\n * @param   {string} path - router path string\n * @returns {string} path cleaned up without the base\n */\n\n\nconst replaceBase = path => path.replace(defaults.base, '');\n/**\n * Try to match the current path or skip it\n * @param   {RegEx} pathRegExp - target path transformed by pathToRegexp\n * @returns {string|Symbol} if the path match we return it otherwise we cancel the stream\n */\n\n\nconst matchOrSkip = pathRegExp => path => match(path, pathRegExp) ? path : erre.cancel();\n/**\n * Combine 2 streams connecting the events of dispatcherStream to the receiverStream\n * @param   {Stream} dispatcherStream - main stream dispatching events\n * @param   {Stream} receiverStream - sub stream receiving events from the dispatcher\n * @returns {Stream} receiverStream\n */\n\n\nconst joinStreams = (dispatcherStream, receiverStream) => {\n  dispatcherStream.on.value(receiverStream.push);\n  receiverStream.on.end(() => {\n    dispatcherStream.off.value(receiverStream.push);\n  });\n  return receiverStream;\n};\n/**\n * Error handling function\n * @param   {Error} error - error to catch\n * @returns {void}\n */\n\n\nconst panic$1 = error => {\n  if (defaults.silentErrors) return;\n  throw new Error(error);\n}; // make sure that the router will always receive strings params\n\n\nconst filterStrings = str => isString(str) ? str : erre.cancel(); // create the streaming router\n\nconst router = erre(filterStrings).on.error(panic$1); // cast the values of this stream always to string\n\n/* @type {object} general configuration object */\n\nconst defaults = {\n  // custom option\n  base: '',\n  silentErrors: false,\n  // pathToRegexp options\n  sensitive: false,\n  strict: false,\n  end: true,\n  start: true,\n  delimiter: '/#?',\n  encode: undefined,\n  endsWith: undefined,\n  prefixes: './'\n};\n/**\n * Merge the user options with the defaults\n * @param   {Object} options - custom user options\n * @returns {Object} options object merged with defaults\n */\n\nconst mergeOptions = options => Object.assign({}, defaults, {}, options);\n/* {@link https://github.com/pillarjs/path-to-regexp#usage} */\n\nconst toRegexp = (path, keys, options) => pathToRegexp(path, keys, mergeOptions(options));\n/**\n * Convert a router entry to a real path computing the url parameters\n * @param   {string} path - router path string\n * @param   {Object} params - named matched parameters\n * @param   {Object} options - pathToRegexp options object\n * @returns {string} computed url string\n */\n\nconst toPath = (path, params, options) => compile(path, mergeOptions(options))(params);\n/**\n * Parse a string path generating an object containing\n * @param   {string} path - target path\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @param   {Object} options - object containing the base path\n * @returns {URL} url object enhanced with the `match` attribute\n */\n\nconst toURL = (path, pathRegExp, options) => {\n  const {\n    base\n  } = mergeOptions(options);\n  const [, ...params] = pathRegExp.exec(path);\n  const url = parseURL(path, base); // extend the url object adding the matched params\n\n  url.params = params;\n  return url;\n};\n/**\n * Return true if a path will be matched\n * @param   {string} path - target path\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @returns {boolean} true if the path matches the regexp\n */\n\nconst match = (path, pathRegExp) => pathRegExp.test(path);\n/**\n * Factory function to create an sequence of functions to pass to erre.js\n * This function will be used in the erre stream\n * @param   {RegExp} pathRegExp - path transformed to regexp via pathToRegexp\n * @param   {Object} options - pathToRegexp options object\n * @returns {Array} a functions array that will be used as stream pipe for erre.js\n */\n\nconst createURLStreamPipe = (pathRegExp, options) => [replaceBase, matchOrSkip(pathRegExp), path => toURL(path, pathRegExp, options)];\n/**\n * Create a fork of the main router stream\n * @param   {string} path - route to match\n * @param   {Object} options - pathToRegexp options object\n * @returns {Stream} new route stream\n */\n\nfunction createRoute(path, options) {\n  const pathRegExp = pathToRegexp(path, [], options);\n  const URLStream = erre(...createURLStreamPipe(pathRegExp, options));\n  return joinStreams(router, URLStream).on.error(panic$1);\n}\n\nconst getCurrentRoute = (currentRoute => {\n  // listen the route changes events to store the current route\n  router.on.value(r => currentRoute = r);\n  return () => {\n    return currentRoute;\n  };\n})(null);\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst getInitialRouteValue = (pathToRegexp, path, options) => {\n  const route = compose(\n    ...createURLStreamPipe(pathToRegexp, options).reverse()\n  )(path);\n\n  return route.params ? route : null\n};\n\nvar routeHoc = {\n  'css': null,\n\n  'exports': {\n    onBeforeMount(props) {\n      const currentRoute = getCurrentRoute();\n      const pathToRegexp = toRegexp(props.path, [], props);\n\n      this.state = {\n        pathToRegexp,\n        route: currentRoute && match(currentRoute, pathToRegexp) ?\n          getInitialRouteValue(pathToRegexp, currentRoute, props) :\n          null\n      };\n\n      router.on.value(this.onBeforeRoute);\n      this.stream = createRoute(props.path, props).on.value(this.onRoute);\n    },\n\n    onBeforeRoute(path, pathToRegexp) {\n      if (this.state.route && !match(path, this.state.pathToRegexp)) {\n        this.callLifecycleProperty('onBeforeUnmount', createRoute);\n        this.update({\n          route: null\n        });\n        this.callLifecycleProperty('onUnmounted', createRoute);\n      }\n    },\n\n    onRoute(route) {\n      this.callLifecycleProperty('onBeforeMount', route);\n      this.update({route});\n      this.callLifecycleProperty('onMounted', route);\n    },\n\n    callLifecycleProperty(method, ...params) {\n      if (this.props[method]) this.props[method](...params);\n    },\n\n    onUnmounted() {\n      router.off.value(this.onBeforeRoute);\n      this.stream.end();\n    }\n  },\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template('<template expr0=\"expr0\"></template>', [{\n      'type': bindingTypes.IF,\n\n      'evaluate': function(scope) {\n        return scope.state.route;\n      },\n\n      'redundantAttribute': 'expr0',\n      'selector': '[expr0]',\n\n      'template': template('<slot expr1=\"expr1\"></slot>', [{\n        'type': bindingTypes.SLOT,\n\n        'attributes': [{\n          'type': expressionTypes.ATTRIBUTE,\n          'name': 'route',\n\n          'evaluate': function(scope) {\n            return scope.state.route;\n          }\n        }],\n\n        'name': 'default',\n        'redundantAttribute': 'expr1',\n        'selector': '[expr1]'\n      }])\n    }]);\n  },\n\n  'name': 'route-hoc'\n};\n\nfunction setBase(base) {\n  defaults.base = base;\n}\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @returns { undefined } hoppla.. at this point the program should stop working\n */\n\nfunction panic$2(message) {\n  throw new Error(message);\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Split a string into several items separed by spaces\n * @param   { string } l - events list\n * @returns { Array } all the events detected\n * @private\n */\n\nconst split = l => l.split(/\\s/);\n/**\n * Set a listener for all the events received separated by spaces\n * @param   { HTMLElement|NodeList|Array } els     - DOM node/s where the listeners will be bound\n * @param   { string }                     evList  - list of events we want to bind or unbind space separated\n * @param   { Function }                   cb      - listeners callback\n * @param   { string }                     method  - either 'addEventListener' or 'removeEventListener'\n * @param   { Object }                     options - event options (capture, once and passive)\n * @returns { undefined }\n * @private\n */\n\n\nfunction manageEvents(els, evList, cb, method, options) {\n  els = domToArray(els);\n  split(evList).forEach(e => {\n    els.forEach(el => el[method](e, cb, options || false));\n  });\n}\n/**\n * Set a listener for all the events received separated by spaces\n * @param   { HTMLElement|Array } els    - DOM node/s where the listeners will be bound\n * @param   { string }            evList - list of events we want to bind space separated\n * @param   { Function }          cb     - listeners callback\n * @param   { Object }            options - event options (capture, once and passive)\n * @returns { HTMLElement|NodeList|Array } DOM node/s and first argument of the function\n */\n\n\nfunction add(els, evList, cb, options) {\n  manageEvents(els, evList, cb, 'addEventListener', options);\n  return els;\n}\n/**\n * Remove all the listeners for the events received separated by spaces\n * @param   { HTMLElement|Array } els     - DOM node/s where the events will be unbind\n * @param   { string }            evList  - list of events we want unbind space separated\n * @param   { Function }          cb      - listeners callback\n * @param   { Object }             options - event options (capture, once and passive)\n * @returns { HTMLElement|NodeList|Array }  DOM node/s and first argument of the function\n */\n\nfunction remove(els, evList, cb, options) {\n  manageEvents(els, evList, cb, 'removeEventListener', options);\n  return els;\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to detect\n * @returns { boolean|Array } true or false or an array of boolean values\n * @example\n *\n * import { has } from 'bianco.attr'\n *\n * has(img, 'width') // false\n *\n * // or also\n * has(img, ['width', 'height']) // => [false, false]\n *\n * // or also\n * has([img1, img2], ['width', 'height']) // => [[false, false], [false, false]]\n */\n\nfunction has(els, name) {\n  return parseNodes(els, name, 'hasAttribute');\n}\n\nconst WINDOW_EVENTS = 'popstate';\nconst CLICK_EVENT = 'click';\nconst DOWNLOAD_LINK_ATTRIBUTE = 'download';\nconst HREF_LINK_ATTRIBUTE = 'href';\nconst TARGET_SELF_LINK_ATTRIBUTE = '_self';\nconst LINK_TAG_NAME = 'A';\nconst HASH = '#';\nconst RE_ORIGIN = /^.+?\\/\\/+[^/]+/;\n\nconst getWindow = () => typeof window === 'undefined' ? null : window;\n\nconst getDocument = () => typeof document === 'undefined' ? null : document;\n\nconst getHistorty = () => getWindow() && history;\n\nconst getLocation = () => {\n  const win = getWindow();\n  const hist = getHistorty();\n  return win && (hist.location || win.location);\n};\n\nconst onWindowEvent = () => router.push(normalizePath(String(getLocation().href)));\n\nconst onRouterPush = path => {\n  const url = path.includes(defaults.base) ? path : defaults.base + path;\n  const loc = getLocation();\n  const hist = getHistorty();\n  const doc = getDocument(); // update the browser history only if it's necessary\n\n  if (url !== loc.href) {\n    hist.pushState(null, doc.title, url);\n  }\n};\n\nconst getLinkElement = node => node && !isLinkNode(node) ? getLinkElement(node.parentNode) : node;\n\nconst isLinkNode = node => node.nodeName === LINK_TAG_NAME;\n\nconst isCrossOriginLink = path => path.indexOf(getLocation().href.match(RE_ORIGIN)[0]) === -1;\n\nconst isTargetSelfLink = el => el.target && el.target !== TARGET_SELF_LINK_ATTRIBUTE;\n\nconst isEventForbidden = event => event.which && event.which !== 1 || // not left click\nevent.metaKey || event.ctrlKey || event.shiftKey // or meta keys\n|| event.defaultPrevented; // or default prevented\n\n\nconst isForbiddenLink = el => !el || !isLinkNode(el) // not A tag\n|| has(el, DOWNLOAD_LINK_ATTRIBUTE) // has download attr\n|| !has(el, HREF_LINK_ATTRIBUTE) // has no href attr\n|| isTargetSelfLink(el.target) || isCrossOriginLink(el.href);\n\nconst isHashLink = path => path.split(HASH).length > 1;\n\nconst normalizePath = path => path.replace(defaults.base, '');\n\nconst isInBase = path => !defaults.base || path.includes(defaults.base);\n/**\n * Callback called anytime something will be clicked on the page\n * @param   {HTMLEvent} event - click event\n * @returns {undefined} void method\n */\n\n\nconst onClick = event => {\n  if (isEventForbidden(event)) return;\n  const el = getLinkElement(event.target);\n  if (isForbiddenLink(el) || isHashLink(el.href) || !isInBase(el.href)) return;\n  const path = normalizePath(el.href);\n  router.push(path);\n  event.preventDefault();\n};\n/**\n * Link the rawth router to the DOM events\n * @param { HTMLElement } container - DOM node where the links are located\n * @returns {Function} teardown function\n */\n\n\nfunction initDomListeners(container) {\n  const win = getWindow();\n  const root = container || getDocument();\n\n  if (win) {\n    add(win, WINDOW_EVENTS, onWindowEvent);\n    add(root, CLICK_EVENT, onClick);\n  }\n\n  router.on.value(onRouterPush);\n  return () => {\n    if (win) {\n      remove(win, WINDOW_EVENTS, onWindowEvent);\n      remove(root, CLICK_EVENT, onClick);\n    }\n\n    router.off.value(onRouterPush);\n  };\n}\n\nconst { template, bindingTypes } = __.DOMBindings;\nconst BASE_ATTRIBUTE_NAME = 'base';\nconst ON_STARTED_ATTRIBUTE_NAME = 'onStarted';\nconst defer = window.requestAnimationFrame || window.setTimeout;\nconst cancelDefer = window.cancelAnimationFrame || window.clearTimeout;\n\nlet wasInitialized = false;\n\nvar routerHoc = {\n  'css': null,\n\n  'exports': pure(({ slots, attributes, props }) => {\n    if (wasInitialized) panic$2('Multiple <router> components are not supported');\n\n    const getAttribute = name => attributes && attributes.find(a => a.name === name);\n\n    return {\n      slot: null,\n      el: null,\n      teardown: null,\n      mount(el, context) {\n        const currentRoute = getCurrentRoute();\n        const onFirstRoute = () => {\n          this.createSlot(context);\n          router.off.value(onFirstRoute);\n        };\n        wasInitialized = true;\n\n        this.el = el;\n        this.teardown = initDomListeners(this.root);\n\n        this.setBase(context);\n\n        // mount the slots only if the current route was defined\n        if (currentRoute) {\n          this.createSlot(context);\n        } else {\n          router.on.value(onFirstRoute);\n          router.push(window.location.href);\n        }\n      },\n      createSlot(context) {\n        if (!slots || !slots.length) return\n        const onStartedAttr = getAttribute(ON_STARTED_ATTRIBUTE_NAME);\n\n        this.slot = template(null, [{\n          type: bindingTypes.SLOT,\n          name: 'default'\n        }]);\n\n        this.slot.mount(this.el, {\n          slots\n        }, context);\n\n        if (onStartedAttr) {\n          onStartedAttr.evaluate(context)(getCurrentRoute());\n        }\n      },\n      update(context) {\n        this.setBase(context);\n\n        // defer the updates to avoid internal recoursive update calls\n        // see https://github.com/riot/route/issues/148\n        if (this.slot) {\n          cancelDefer(this.deferred);\n\n          this.deferred = defer(() => {\n            this.slot.update({}, context);\n          });\n        }\n      },\n      unmount(...args) {\n        this.teardown();\n        wasInitialized = false;\n\n        if (this.slot) {\n          this.slot.unmount(...args);\n        }\n      },\n      getBase(context) {\n        const loc = window.location;\n        const baseAttr = getAttribute(BASE_ATTRIBUTE_NAME);\n\n        return baseAttr ? baseAttr.evaluate(context) : `${loc.protocol}//${loc.host}`\n      },\n      setBase(context) {\n        setBase(props ? props.base : this.getBase(context));\n      }\n    }\n  }),\n\n  'template': null,\n  'name': 'router-hoc'\n};\n\nexport { routeHoc as Route, routerHoc as Router, createURLStreamPipe, filterStrings, getCurrentRoute, initDomListeners, match, createRoute as route, router, setBase, toPath, toRegexp, toURL };\n","export default [{\n  path: '/',\n  label: 'Home',\n  componentName: 'home'\n}, {\n  path: '/about',\n  label: 'About',\n  componentName: 'about'\n}]","<app>\n    <nav class=\"navbar navbar-expand-sm navbar-dark bg-primary\" id=\"nav\">\n        <a class=\"navbar-brand\" href=\"#\">\n            {props.title}\n        </a>\n        <button class=\"navbar-toggler d-lg-none\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavId\" aria-controls=\"collapsibleNavId\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"></button>\n        <div class=\"collapse navbar-collapse\" id=\"collapsibleNavId\">\n            <ul if={state.pages} class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                <div each={page in state.pages}>\n                    <li class={(page.path==window.location.pathname)? \"nav-item active\": \"nav-item\"}>\n                        <a class=\"nav-link\" href={page.path}>{page.label} </a>\n                    </li>\n                </div>\n            </ul>\n        </div>\n    </nav>\n    <div class=\"container-fluid main \">\n        <div class=\"row \">\n            <div class=\"col\">\n                <router>\n                    <div if={state.showNotFound} class=\"row\">\n                        <div class=\"col\">\n                            <not-found />\n                        </div>\n                    </div>\n                    <div if={!state.showNotFound} class=\"row\">\n                        <div class=\"col\">\n                            <route each={page in state.pages} path={page.path}>\n                                <main is={page.componentName} />\n                            </route>\n                        </div>\n                    </div>\n                </router>\n            </div>\n        </div>\n    </div>\n\n\n\n    <script>\n        import {\n            Router,\n            Route,\n            route,\n            toRegexp,\n            match\n        } from '@riotjs/route'\n        import lazy from '@riotjs/lazy'\n        import Loader from './components/includes/loader/loader.riot'\n        import NotFound from './pages/not-found.riot'\n        import pages from './pages'\n\n        export default {\n            components: {\n                Router,\n                Route,\n                NotFound,\n                Home: lazy(Loader, () =>\n                    import (\n                        /* webpackPrefetch: true, webpackChunkName: 'pages/home' */\n                        './pages/home.riot'\n                    )),\n                About: lazy(Loader, () =>\n                    import (\n                        /* webpackPrefetch: true, webpackChunkName: 'pages/about' */\n                        './pages/about.riot'\n                    )),\n            },\n            state: {\n                pages: pages,\n                showNotFound: false,\n                activePage: null\n            },\n\n            onBeforeMount({\n                isServer\n            }) {\n                // create a stream on all routes to catch the not-found page\n                this.anyRouteStream = route('(.*)')\n                this.anyRouteStream.on.value(this.onAnyRoute)\n\n            },\n            onUpdated() {\n                console.log(window.location.href, window.location.pathname)\n            },\n            onAnyRoute(path) {\n                // show the not found page if none of the page paths are matched\n                const activePage = pages.find(p => match(path.pathname, toRegexp(p.path)))\n\n                this.update({\n                    activePage,\n                    showNotFound: !activePage\n                })\n                console.log(this.state.activePage)\n            },\n            onBeforeUnmout() {\n                this.anyRouteStream.end()\n            }\n        }\n    </script>\n\n    <style>\n        .active {\n            font-weight: bolder;\n        }\n    </style>\n</app>","import { register } from 'riot'\nimport { basename } from 'path'\n\nconst globalComponentsContext = require.context('./components/global/', true, /[a-zA-Z0-9-]+\\.riot/)\n\nexport default () => {\n  globalComponentsContext.keys().map(path => {\n    const name = basename(path, '.riot')\n    const component = globalComponentsContext(path)\n\n    register(name, component.default)\n\n    return {\n      name,\n      component\n    }\n  })\n}","import '@riotjs/hot-reload'\nimport { component, install } from 'riot'\nimport App from './app.riot'\nimport Nav from './nav.riot'\nimport registerGlobalComponents from './register-global-components'\ninstall(comp => {\n\n\n    })\n    // register\nregisterGlobalComponents()\n\n// mount the root tag\n\ncomponent(App)(document.getElementById('root'))","import domToArray from 'bianco.dom-to-array'\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\nexport default function $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ?\n    (ctx || document).querySelectorAll(selector) :\n    selector\n  )\n}\n","/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nexport default function domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (\n      /^\\[object (HTMLCollection|NodeList|Object)\\]$/\n        .test(Object.prototype.toString.call(els))\n        && typeof els.length === 'number'\n    )\n      return Array.from(els)\n    else\n      // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els]\n  }\n  // this object could be looped out of the box\n  return els\n}","<sidebar>\n  <div>\n    <div class=\"row\">\n      <h1>Sidebar</h1>\n    </div>\n    <div if={state.showUser} class=\"row\">\n      <user name={ state.name }/>\n    </div>\n\n    <div class=\"row\">\n      <button onclick={toggleUser}>Toggle username</button>\n    </div>\n  </div>\n\n  <script>\n    import User from '../../includes/user/user.riot'\n\n    export default {\n      components: {\n        User\n      },\n      state: {\n        name: 'John',\n        showUser: false\n      },\n      toggleUser() {\n        this.update({\n          showUser: !this.state.showUser\n        })\n      }\n    }\n  </script>\n</sidebar>","<user>\n  <p>My username is: <b>{ props.name }</b></p>\n</user>"],"sourceRoot":""}